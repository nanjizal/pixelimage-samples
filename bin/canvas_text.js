// Generated by Haxe 4.3.0-rc.1+
(function ($global) { "use strict";
var HxOverrides = function() { };
HxOverrides.__name__ = true;
HxOverrides.cca = function(s,index) {
	var x = s.charCodeAt(index);
	if(x != x) {
		return undefined;
	}
	return x;
};
HxOverrides.now = function() {
	return Date.now();
};
Math.__name__ = true;
var Std = function() { };
Std.__name__ = true;
Std.string = function(s) {
	return js_Boot.__string_rec(s,"");
};
var StringTools = function() { };
StringTools.__name__ = true;
StringTools.hex = function(n,digits) {
	var s = "";
	var hexChars = "0123456789ABCDEF";
	while(true) {
		s = hexChars.charAt(n & 15) + s;
		n >>>= 4;
		if(!(n > 0)) {
			break;
		}
	}
	if(digits != null) {
		while(s.length < digits) s = "0" + s;
	}
	return s;
};
var haxe_Log = function() { };
haxe_Log.__name__ = true;
haxe_Log.formatOutput = function(v,infos) {
	var str = Std.string(v);
	if(infos == null) {
		return str;
	}
	var pstr = infos.fileName + ":" + infos.lineNumber;
	if(infos.customParams != null) {
		var _g = 0;
		var _g1 = infos.customParams;
		while(_g < _g1.length) {
			var v = _g1[_g];
			++_g;
			str += ", " + Std.string(v);
		}
	}
	return pstr + ": " + str;
};
haxe_Log.trace = function(v,infos) {
	var str = haxe_Log.formatOutput(v,infos);
	if(typeof(console) != "undefined" && console.log != null) {
		console.log(str);
	}
};
var haxe_ds_StringMap = function() {
	this.h = Object.create(null);
};
haxe_ds_StringMap.__name__ = true;
var haxe_iterators_ArrayIterator = function(array) {
	this.current = 0;
	this.array = array;
};
haxe_iterators_ArrayIterator.__name__ = true;
haxe_iterators_ArrayIterator.prototype = {
	hasNext: function() {
		return this.current < this.array.length;
	}
	,next: function() {
		return this.array[this.current++];
	}
};
var htmlHelper_canvas_CanvasSetup = function() {
	this.factor = 4.;
	this.divertTrace = new htmlHelper_tools_DivertTrace();
	var e = null;
	var this1;
	if(e == null) {
		var canvas = window.document.createElement("canvas");
		var dom = canvas;
		var style = dom.style;
		style.paddingLeft = "0px";
		style.paddingTop = "0px";
		style.left = "0px";
		style.top = "0px";
		style.position = "absolute";
		this1 = canvas;
	} else {
		this1 = e;
	}
	this.canvasWrapper = this1;
	this.canvasWrapper.width = 1024;
	this.canvasWrapper.height = 768;
	var dom = this.canvasWrapper;
	var style = dom.style;
	style.background = "black";
	window.document.body.appendChild(this.canvasWrapper);
	var this1 = new htmlHelper_canvas_CanvasPlus(this.canvasWrapper.getContext("2d",null),10,10);
	this1.me.lineWidth = 1;
	var tmp = StringTools.hex(16744272,6);
	this1.me.strokeStyle = "#" + tmp;
	this.surface = this1;
	this.overSampleCanvas();
};
htmlHelper_canvas_CanvasSetup.__name__ = true;
htmlHelper_canvas_CanvasSetup.prototype = {
	overSampleCanvas: function() {
		var ctx = this.surface.me;
		var canvas = this.canvasWrapper;
		var width = canvas.width;
		var height = canvas.height;
		canvas.width = 0 | (width * this.factor | 0);
		canvas.height = 0 | (height * this.factor | 0);
		var dom = this.canvasWrapper;
		var style = dom.style;
		style.width = width + "px";
		style.height = height + "px";
		ctx.scale(this.factor,this.factor);
	}
};
var htmlHelper_canvas_CanvasPlus = function(me,x,y) {
	if(y == null) {
		y = 0;
	}
	if(x == null) {
		x = 0;
	}
	this.y = 0.;
	this.x = 0.;
	this.x = x;
	this.y = y;
	this.me = me;
};
htmlHelper_canvas_CanvasPlus.__name__ = true;
var htmlHelper_tools_DivertTrace = function(left,d) {
	if(left == null) {
		left = 610;
	}
	this.textStyle1 = "<span style=\"font-size:14px; color:Grey\">";
	this.textStyle0 = "<span style=\"font-size:12px; color:Silver\">";
	this.traceString = "";
	this.divertTrace(left,d);
};
htmlHelper_tools_DivertTrace.__name__ = true;
htmlHelper_tools_DivertTrace.prototype = {
	divertTrace: function(left,d) {
		if(d == null) {
			var doc = window.document;
			this.traceDiv = doc.createElement("div");
			doc.body.appendChild(this.traceDiv);
			var dom = this.traceDiv;
			var style = dom.style;
			style.position = "absolute";
			style.top = "0px";
			style.left = (left == null ? "null" : "" + left) + "px";
			style.height = "500px";
			style.width = "500px";
			style.zIndex = "99";
			style.overflow = "auto";
		} else {
			this.traceDiv = d;
		}
		haxe_Log.trace = $bind(this,this.myTrace);
	}
	,myTrace: function(v,inf) {
		if(Std.string(v) == "") {
			return;
		}
		this.traceString += this.textStyle0 + inf.className + "." + inf.methodName + " ( " + (inf.lineNumber == null ? "null" : "" + inf.lineNumber) + " )" + "</span>" + "<br> - " + this.textStyle1 + Std.string(v) + "</span>" + "<br>";
		this.traceDiv.innerHTML = this.traceString;
	}
};
var htmlHelper_tools_ImageLoader = function(imageNames,loaded_) {
	this.images = new haxe_ds_StringMap();
	this.loaded = loaded_;
	this.count = imageNames.length;
	var _g = 0;
	while(_g < imageNames.length) {
		var name = imageNames[_g];
		++_g;
		this.load(name);
	}
};
htmlHelper_tools_ImageLoader.__name__ = true;
htmlHelper_tools_ImageLoader.prototype = {
	load: function(img) {
		var image = window.document.createElement("img");
		var imgStyle = image.style;
		imgStyle.left = "0px";
		imgStyle.top = "0px";
		imgStyle.paddingLeft = "0px";
		imgStyle.paddingTop = "0px";
		var _g = this;
		var image1 = image;
		var name = img.split("/").pop();
		image.onload = function(e) {
			_g.store(image1,name,e);
		};
		imgStyle.position = "absolute";
		image.src = img;
	}
	,loadEncoded: function(imageEncoded,imageNames) {
		this.count = imageNames.length;
		var _g = 0;
		var _g1 = this.count;
		while(_g < _g1) {
			var i = _g++;
			this.encodedLoad(imageEncoded[i],imageNames[i]);
		}
	}
	,encodedLoad: function(imgStr,name) {
		var image = window.document.createElement("img");
		var imgStyle = image.style;
		imgStyle.left = "0px";
		imgStyle.top = "0px";
		imgStyle.paddingLeft = "0px";
		imgStyle.paddingTop = "0px";
		var _g = this;
		var image1 = image;
		var name1 = name;
		image.onload = function(e) {
			_g.store(image1,name1,e);
		};
		imgStyle.position = "absolute";
		image.src = imgStr;
	}
	,store: function(image,name,e) {
		this.count--;
		haxe_Log.trace("store " + name + " " + this.count,{ fileName : "htmlHelper/tools/ImageLoader.hx", lineNumber : 52, className : "htmlHelper.tools.ImageLoader", methodName : "store"});
		this.images.h[name] = image;
		if(this.count == 0) {
			this.loaded();
		}
	}
};
var js_Boot = function() { };
js_Boot.__name__ = true;
js_Boot.__string_rec = function(o,s) {
	if(o == null) {
		return "null";
	}
	if(s.length >= 5) {
		return "<...>";
	}
	var t = typeof(o);
	if(t == "function" && (o.__name__ || o.__ename__)) {
		t = "object";
	}
	switch(t) {
	case "function":
		return "<function>";
	case "object":
		if(((o) instanceof Array)) {
			var str = "[";
			s += "\t";
			var _g = 0;
			var _g1 = o.length;
			while(_g < _g1) {
				var i = _g++;
				str += (i > 0 ? "," : "") + js_Boot.__string_rec(o[i],s);
			}
			str += "]";
			return str;
		}
		var tostr;
		try {
			tostr = o.toString;
		} catch( _g ) {
			return "???";
		}
		if(tostr != null && tostr != Object.toString && typeof(tostr) == "function") {
			var s2 = o.toString();
			if(s2 != "[object Object]") {
				return s2;
			}
		}
		var str = "{\n";
		s += "\t";
		var hasp = o.hasOwnProperty != null;
		var k = null;
		for( k in o ) {
		if(hasp && !o.hasOwnProperty(k)) {
			continue;
		}
		if(k == "prototype" || k == "__class__" || k == "__super__" || k == "__interfaces__" || k == "__properties__") {
			continue;
		}
		if(str.length != 2) {
			str += ", \n";
		}
		str += s + k + " : " + js_Boot.__string_rec(o[k],s);
		}
		s = s.substring(1);
		str += "\n" + s + "}";
		return str;
	case "string":
		return o;
	default:
		return String(o);
	}
};
var pixelimage_ImageStruct = function(width,height,image) {
	this.useMask = false;
	this.useVirtualPos = false;
	this.virtualY = 0;
	this.virtualX = 0;
	this.transparent = false;
	this.width = width;
	this.height = height;
	this.image = image;
	this.isLittle = pixelimage_Endian_isLittleEndian;
	this.transparent = false;
};
pixelimage_ImageStruct.__name__ = true;
var pixelimage_Pixelimage = {};
pixelimage_Pixelimage.spun180 = function(this1,x,y,w,h,transparent,includeMask) {
	if(includeMask == null) {
		includeMask = false;
	}
	if(transparent == null) {
		transparent = false;
	}
	var p = x | 0;
	var xx = p;
	var q = y | 0;
	var maxX = x + w | 0;
	var maxY = y + h | 0;
	var w1 = w | 0;
	var h1 = h | 0;
	var this2 = new Uint32Array(w1 * h1 | 0);
	var this3 = new pixelimage_ImageStruct(w1,h1,this2);
	var pixelImage = this3;
	pixelImage.transparent = transparent;
	var color = 0;
	while(true) {
		var c = this1.image[this1.useVirtualPos ? (q - this1.virtualY) * this1.width + p - this1.virtualX | 0 : q * this1.width + p | 0];
		color = pixelimage_Endian_isLittleEndian ? (c >> 24 & 255) << 24 | (c & 255) << 16 | (c >> 8 & 255) << 8 | c >> 16 & 255 : c;
		var x1 = maxX - p;
		var y1 = maxY - q;
		var this2 = color;
		var c1 = this2;
		if((c1 >> 24 & 255) < 254 && pixelImage.transparent) {
			var location = pixelImage.useVirtualPos ? (y1 - pixelImage.virtualY) * pixelImage.width + x1 - pixelImage.virtualX | 0 : y1 * pixelImage.width + x1 | 0;
			var this3 = pixelImage.image[location];
			var this4 = this3;
			var this5 = pixelimage_Endian_isLittleEndian ? (this4 >> 24 & 255) << 24 | (this4 & 255) << 16 | (this4 >> 8 & 255) << 8 | this4 >> 16 & 255 : this4;
			var this6 = this5 >> 24 & 255;
			var a1 = this6 == 0 ? 0. : this6 / 255;
			var this7 = this5 >> 16 & 255;
			var r1 = this7 == 0 ? 0. : this7 / 255;
			var this8 = this5 >> 8 & 255;
			var g1 = this8 == 0 ? 0. : this8 / 255;
			var this9 = this5 & 255;
			var b1 = this9 == 0 ? 0. : this9 / 255;
			var this10 = color >> 24 & 255;
			var a2 = this10 == 0 ? 0. : this10 / 255;
			var this11 = color >> 16 & 255;
			var r2 = this11 == 0 ? 0. : this11 / 255;
			var this12 = color >> 8 & 255;
			var g2 = this12 == 0 ? 0. : this12 / 255;
			var this13 = color & 255;
			var b2 = this13 == 0 ? 0. : this13 / 255;
			var a3 = a1 * (1 - a2);
			var r = 255 * (r1 * a3 + r2 * a2) | 0;
			var g = 255 * (g1 * a3 + g2 * a2) | 0;
			var b = 255 * (b1 * a3 + b2 * a2) | 0;
			var a = 255 * (a3 + a2) | 0;
			var blended = a << 24 | r << 16 | g << 8 | b;
			pixelImage.image[location] = pixelimage_Endian_isLittleEndian ? (blended >> 24 & 255) << 24 | (blended & 255) << 16 | (blended >> 8 & 255) << 8 | blended >> 16 & 255 : blended;
		} else {
			pixelImage.image[pixelImage.useVirtualPos ? (y1 - pixelImage.virtualY) * pixelImage.width + x1 - pixelImage.virtualX | 0 : y1 * pixelImage.width + x1 | 0] = pixelimage_Endian_isLittleEndian ? (c1 >> 24 & 255) << 24 | (c1 & 255) << 16 | (c1 >> 8 & 255) << 8 | c1 >> 16 & 255 : c1;
		}
		++p;
		if(p > maxX) {
			p = xx;
			++q;
		}
		if(q > maxY) {
			break;
		}
	}
	if(this1.mask != null && includeMask) {
		var v = pixelimage_Pixelimage.spun180(this1.mask,x,y,w,h,this1.mask.transparent,includeMask);
		pixelImage.useMask = true;
		pixelImage.mask = v;
	}
	return pixelImage;
};
pixelimage_Pixelimage.rotate = function(this1,theta,centreX,centreY,transparent,includeMask) {
	if(includeMask == null) {
		includeMask = false;
	}
	if(transparent == null) {
		transparent = false;
	}
	if(centreY == null) {
		centreY = 0.;
	}
	if(centreX == null) {
		centreX = 0.;
	}
	var ax = 0.;
	var ay = 0.;
	if(centreX != 0.) {
		centreX = this1.width / 2 + centreX;
		ax -= centreX;
	}
	if(centreY != 0.) {
		centreY = this1.height / 2 + centreY;
		ay -= centreY;
	}
	var bx = ax + this1.width;
	var by = ay;
	var cx = bx;
	var cy = ay + this1.height;
	var dx = ax;
	var dy = cy;
	var sin = Math.sin(theta);
	var cos = Math.cos(theta);
	var temp = ax;
	ax = temp * cos - ay * sin;
	ay = ay * cos + temp * sin;
	var temp = bx;
	bx = temp * cos - by * sin;
	by = by * cos + temp * sin;
	var temp = cx;
	cx = temp * cos - cy * sin;
	cy = cy * cos + temp * sin;
	var temp = dx;
	dx = temp * cos - dy * sin;
	dy = dy * cos + temp * sin;
	if(centreX != 0.) {
		ax += centreX;
		bx += centreX;
		cx += centreX;
		dx += centreX;
	}
	if(centreY != 0.) {
		ay += centreY;
		by += centreY;
		cy += centreY;
		dy += centreY;
	}
	var min = Math.floor(ax);
	var max = Math.ceil(ax);
	if(bx < min) {
		min = Math.floor(bx);
	} else if(bx > max) {
		max = Math.ceil(bx);
	}
	if(cx < min) {
		min = Math.floor(cx);
	} else if(cx > max) {
		max = Math.ceil(cx);
	}
	if(dx < min) {
		min = Math.floor(dx);
	} else if(dx > max) {
		max = Math.ceil(dx);
	}
	var ii_min = min;
	var ii_max = max;
	var this2 = new pixelimage_iter_IntIterStart(ii_min,ii_max);
	var boundX = this2;
	var min = Math.floor(ay);
	var max = Math.ceil(ay);
	if(by < min) {
		min = Math.floor(by);
	} else if(by > max) {
		max = Math.ceil(by);
	}
	if(cy < min) {
		min = Math.floor(cy);
	} else if(cy > max) {
		max = Math.ceil(cy);
	}
	if(dy < min) {
		min = Math.floor(dy);
	} else if(dy > max) {
		max = Math.ceil(dy);
	}
	var ii_min = min;
	var ii_max = max;
	var this2 = new pixelimage_iter_IntIterStart(ii_min,ii_max);
	var boundY = this2;
	var minX = boundX.start;
	var wid = boundX.max - boundX.start + 1;
	var minY = boundY.start;
	var hi = boundY.max - boundY.start + 1;
	var this2 = new Uint32Array(wid * hi | 0);
	var this3 = new pixelimage_ImageStruct(wid,hi,this2);
	var pixelImage = this3;
	pixelImage.transparent = true;
	if(minX < 0.) {
		ax -= minX;
		bx -= minX;
		cx -= minX;
		dx -= minX;
	}
	if(minY < 0.) {
		ay -= minY;
		by -= minY;
		cy -= minY;
		dy -= minY;
	}
	var win_x = 0;
	var win_y = 0;
	var win_width = this1.width;
	var win_height = this1.height;
	var hasHit = false;
	if(hasHit == null) {
		hasHit = true;
	}
	var hasHit1 = hasHit;
	if(hasHit1 == null) {
		hasHit1 = false;
	}
	var au = 0.;
	var av = 0.;
	var bu = 1.;
	var bv = 0.;
	var hasHit = hasHit1;
	if(hasHit == null) {
		hasHit = false;
	}
	var temp = au;
	au = bu;
	bu = temp;
	temp = av;
	av = bv;
	bv = temp;
	var bcx = bx - dx;
	var bcy = by - dy;
	var acx = ax - dx;
	var acy = ay - dy;
	var dot11 = bcx * bcx + bcy * bcy;
	var dot12 = bcx * acx + bcy * acy;
	var dot22 = acx * acx + acy * acy;
	var denom1 = 1 / (dot11 * dot22 - dot12 * dot12);
	var this2;
	if(dx > bx) {
		if(dx > ax) {
			var ii_min = bx > ax ? Math.floor(ax) : Math.floor(bx);
			var ii_max = Math.ceil(dx);
			var this3 = new pixelimage_iter_IntIterStart(ii_min,ii_max);
			this2 = this3;
		} else {
			var ii_min = Math.floor(bx);
			var ii_max = Math.ceil(ax);
			var this3 = new pixelimage_iter_IntIterStart(ii_min,ii_max);
			this2 = this3;
		}
	} else if(bx > ax) {
		var ii_min = dx > ax ? Math.floor(ax) : Math.ceil(dx);
		var ii_max = Math.ceil(bx);
		var this3 = new pixelimage_iter_IntIterStart(ii_min,ii_max);
		this2 = this3;
	} else {
		var ii_min = Math.floor(dx);
		var ii_max = Math.ceil(ax);
		var this3 = new pixelimage_iter_IntIterStart(ii_min,ii_max);
		this2 = this3;
	}
	var _g_min = this2.start;
	var _g_max = this2.max;
	while(_g_min < _g_max) {
		var px = _g_min++;
		var pcx = px - dx;
		var this2;
		if(dy > by) {
			if(dy > ay) {
				var ii_min = by > ay ? Math.floor(ay) : Math.floor(by);
				var ii_max = Math.ceil(dy);
				var this3 = new pixelimage_iter_IntIterStart(ii_min,ii_max);
				this2 = this3;
			} else {
				var ii_min1 = Math.floor(by);
				var ii_max1 = Math.ceil(ay);
				var this4 = new pixelimage_iter_IntIterStart(ii_min1,ii_max1);
				this2 = this4;
			}
		} else if(by > ay) {
			var ii_min2 = dy > ay ? Math.floor(ay) : Math.ceil(dy);
			var ii_max2 = Math.ceil(by);
			var this5 = new pixelimage_iter_IntIterStart(ii_min2,ii_max2);
			this2 = this5;
		} else {
			var ii_min3 = Math.floor(dy);
			var ii_max3 = Math.ceil(ay);
			var this6 = new pixelimage_iter_IntIterStart(ii_min3,ii_max3);
			this2 = this6;
		}
		var _g_min1 = this2.start;
		var _g_max1 = this2.max;
		while(_g_min1 < _g_max1) {
			var py = _g_min1++;
			var pcy = py - dy;
			var dot31 = pcx * bcx + pcy * bcy;
			var dot32 = pcx * acx + pcy * acy;
			var ratioA = (dot22 * dot31 - dot12 * dot32) * denom1;
			var ratioB = (dot11 * dot32 - dot12 * dot31) * denom1;
			var ratioC = 1.0 - ratioB - ratioA;
			if(ratioA >= 0 && ratioB >= 0 && ratioC >= 0) {
				var u = au * ratioA + bu * ratioB + 0. * ratioC;
				var v = av * ratioA + bv * ratioB + ratioC;
				var x = u * win_width + win_x | 0;
				var y = v * win_height + win_y | 0;
				var c = this1.image[this1.useVirtualPos ? (y - this1.virtualY) * this1.width + x - this1.virtualX | 0 : y * this1.width + x | 0];
				var col = pixelimage_Endian_isLittleEndian ? (c >> 24 & 255) << 24 | (c & 255) << 16 | (c >> 8 & 255) << 8 | c >> 16 & 255 : c;
				var this7 = col;
				var c1 = this7;
				if((c1 >> 24 & 255) < 254 && pixelImage.transparent) {
					var location = pixelImage.useVirtualPos ? (py - pixelImage.virtualY) * pixelImage.width + px - pixelImage.virtualX | 0 : py * pixelImage.width + px | 0;
					var this8 = pixelImage.image[location];
					var this9 = this8;
					var this10 = pixelimage_Endian_isLittleEndian ? (this9 >> 24 & 255) << 24 | (this9 & 255) << 16 | (this9 >> 8 & 255) << 8 | this9 >> 16 & 255 : this9;
					var this11 = this10 >> 24 & 255;
					var a1 = this11 == 0 ? 0. : this11 / 255;
					var this12 = this10 >> 16 & 255;
					var r1 = this12 == 0 ? 0. : this12 / 255;
					var this13 = this10 >> 8 & 255;
					var g1 = this13 == 0 ? 0. : this13 / 255;
					var this14 = this10 & 255;
					var b1 = this14 == 0 ? 0. : this14 / 255;
					var this15 = col >> 24 & 255;
					var a2 = this15 == 0 ? 0. : this15 / 255;
					var this16 = col >> 16 & 255;
					var r2 = this16 == 0 ? 0. : this16 / 255;
					var this17 = col >> 8 & 255;
					var g2 = this17 == 0 ? 0. : this17 / 255;
					var this18 = col & 255;
					var b2 = this18 == 0 ? 0. : this18 / 255;
					var a3 = a1 * (1 - a2);
					var r = 255 * (r1 * a3 + r2 * a2) | 0;
					var g = 255 * (g1 * a3 + g2 * a2) | 0;
					var b = 255 * (b1 * a3 + b2 * a2) | 0;
					var a = 255 * (a3 + a2) | 0;
					var blended = a << 24 | r << 16 | g << 8 | b;
					pixelImage.image[location] = pixelimage_Endian_isLittleEndian ? (blended >> 24 & 255) << 24 | (blended & 255) << 16 | (blended >> 8 & 255) << 8 | blended >> 16 & 255 : blended;
				} else {
					pixelImage.image[pixelImage.useVirtualPos ? (py - pixelImage.virtualY) * pixelImage.width + px - pixelImage.virtualX | 0 : py * pixelImage.width + px | 0] = pixelimage_Endian_isLittleEndian ? (c1 >> 24 & 255) << 24 | (c1 & 255) << 16 | (c1 >> 8 & 255) << 8 | c1 >> 16 & 255 : c1;
				}
			}
		}
	}
	if(hasHit == false) {
		var v = new pixelimage_algo_HitTri(ax,ay,bx,by,dx,dy,true);
	}
	var au = 1.;
	var av = 0.;
	var bu = 1.;
	var bv = 1.;
	var hasHit = hasHit1;
	if(hasHit == null) {
		hasHit = false;
	}
	var temp = au;
	au = bu;
	bu = temp;
	temp = av;
	av = bv;
	bv = temp;
	var bcx = cx - dx;
	var bcy = cy - dy;
	var acx = bx - dx;
	var acy = by - dy;
	var dot11 = bcx * bcx + bcy * bcy;
	var dot12 = bcx * acx + bcy * acy;
	var dot22 = acx * acx + acy * acy;
	var denom1 = 1 / (dot11 * dot22 - dot12 * dot12);
	var this2;
	if(dx > cx) {
		if(dx > bx) {
			var ii_min = cx > bx ? Math.floor(bx) : Math.floor(cx);
			var ii_max = Math.ceil(dx);
			var this3 = new pixelimage_iter_IntIterStart(ii_min,ii_max);
			this2 = this3;
		} else {
			var ii_min = Math.floor(cx);
			var ii_max = Math.ceil(bx);
			var this3 = new pixelimage_iter_IntIterStart(ii_min,ii_max);
			this2 = this3;
		}
	} else if(cx > bx) {
		var ii_min = dx > bx ? Math.floor(bx) : Math.ceil(dx);
		var ii_max = Math.ceil(cx);
		var this3 = new pixelimage_iter_IntIterStart(ii_min,ii_max);
		this2 = this3;
	} else {
		var ii_min = Math.floor(dx);
		var ii_max = Math.ceil(bx);
		var this3 = new pixelimage_iter_IntIterStart(ii_min,ii_max);
		this2 = this3;
	}
	var _g_min = this2.start;
	var _g_max = this2.max;
	while(_g_min < _g_max) {
		var px = _g_min++;
		var pcx = px - dx;
		var this2;
		if(dy > cy) {
			if(dy > by) {
				var ii_min = cy > by ? Math.floor(by) : Math.floor(cy);
				var ii_max = Math.ceil(dy);
				var this3 = new pixelimage_iter_IntIterStart(ii_min,ii_max);
				this2 = this3;
			} else {
				var ii_min1 = Math.floor(cy);
				var ii_max1 = Math.ceil(by);
				var this4 = new pixelimage_iter_IntIterStart(ii_min1,ii_max1);
				this2 = this4;
			}
		} else if(cy > by) {
			var ii_min2 = dy > by ? Math.floor(by) : Math.ceil(dy);
			var ii_max2 = Math.ceil(cy);
			var this5 = new pixelimage_iter_IntIterStart(ii_min2,ii_max2);
			this2 = this5;
		} else {
			var ii_min3 = Math.floor(dy);
			var ii_max3 = Math.ceil(by);
			var this6 = new pixelimage_iter_IntIterStart(ii_min3,ii_max3);
			this2 = this6;
		}
		var _g_min1 = this2.start;
		var _g_max1 = this2.max;
		while(_g_min1 < _g_max1) {
			var py = _g_min1++;
			var pcy = py - dy;
			var dot31 = pcx * bcx + pcy * bcy;
			var dot32 = pcx * acx + pcy * acy;
			var ratioA = (dot22 * dot31 - dot12 * dot32) * denom1;
			var ratioB = (dot11 * dot32 - dot12 * dot31) * denom1;
			var ratioC = 1.0 - ratioB - ratioA;
			if(ratioA >= 0 && ratioB >= 0 && ratioC >= 0) {
				var u = au * ratioA + bu * ratioB + 0. * ratioC;
				var v = av * ratioA + bv * ratioB + ratioC;
				var x = u * win_width + win_x | 0;
				var y = v * win_height + win_y | 0;
				var c = this1.image[this1.useVirtualPos ? (y - this1.virtualY) * this1.width + x - this1.virtualX | 0 : y * this1.width + x | 0];
				var col = pixelimage_Endian_isLittleEndian ? (c >> 24 & 255) << 24 | (c & 255) << 16 | (c >> 8 & 255) << 8 | c >> 16 & 255 : c;
				var this7 = col;
				var c1 = this7;
				if((c1 >> 24 & 255) < 254 && pixelImage.transparent) {
					var location = pixelImage.useVirtualPos ? (py - pixelImage.virtualY) * pixelImage.width + px - pixelImage.virtualX | 0 : py * pixelImage.width + px | 0;
					var this8 = pixelImage.image[location];
					var this9 = this8;
					var this10 = pixelimage_Endian_isLittleEndian ? (this9 >> 24 & 255) << 24 | (this9 & 255) << 16 | (this9 >> 8 & 255) << 8 | this9 >> 16 & 255 : this9;
					var this11 = this10 >> 24 & 255;
					var a1 = this11 == 0 ? 0. : this11 / 255;
					var this12 = this10 >> 16 & 255;
					var r1 = this12 == 0 ? 0. : this12 / 255;
					var this13 = this10 >> 8 & 255;
					var g1 = this13 == 0 ? 0. : this13 / 255;
					var this14 = this10 & 255;
					var b1 = this14 == 0 ? 0. : this14 / 255;
					var this15 = col >> 24 & 255;
					var a2 = this15 == 0 ? 0. : this15 / 255;
					var this16 = col >> 16 & 255;
					var r2 = this16 == 0 ? 0. : this16 / 255;
					var this17 = col >> 8 & 255;
					var g2 = this17 == 0 ? 0. : this17 / 255;
					var this18 = col & 255;
					var b2 = this18 == 0 ? 0. : this18 / 255;
					var a3 = a1 * (1 - a2);
					var r = 255 * (r1 * a3 + r2 * a2) | 0;
					var g = 255 * (g1 * a3 + g2 * a2) | 0;
					var b = 255 * (b1 * a3 + b2 * a2) | 0;
					var a = 255 * (a3 + a2) | 0;
					var blended = a << 24 | r << 16 | g << 8 | b;
					pixelImage.image[location] = pixelimage_Endian_isLittleEndian ? (blended >> 24 & 255) << 24 | (blended & 255) << 16 | (blended >> 8 & 255) << 8 | blended >> 16 & 255 : blended;
				} else {
					pixelImage.image[pixelImage.useVirtualPos ? (py - pixelImage.virtualY) * pixelImage.width + px - pixelImage.virtualX | 0 : py * pixelImage.width + px | 0] = pixelimage_Endian_isLittleEndian ? (c1 >> 24 & 255) << 24 | (c1 & 255) << 16 | (c1 >> 8 & 255) << 8 | c1 >> 16 & 255 : c1;
				}
			}
		}
	}
	if(hasHit == false) {
		var v = new pixelimage_algo_HitTri(bx,by,cx,cy,dx,dy,true);
	}
	if(hasHit1 == true) {
		var v = new pixelimage_algo_HitQuad(ax,ay,bx,by,cx,cy,dx,dy,true);
	}
	if(this1.mask != null && includeMask) {
		var v = pixelimage_Pixelimage.rotate(this1.mask,theta,centreX,centreY,this1.mask.transparent,includeMask);
		pixelImage.useMask = true;
		pixelImage.mask = v;
	}
	return pixelImage;
};
pixelimage_Pixelimage.scaleUpInt = function(this1,scaleW,scaleH,transparent,includeMask) {
	if(includeMask == null) {
		includeMask = false;
	}
	if(transparent == null) {
		transparent = false;
	}
	if(scaleH == null) {
		scaleH = 2;
	}
	if(scaleW == null) {
		scaleW = 2;
	}
	var p = 0;
	var xx = p;
	var q = 0;
	var wNew = this1.width * scaleW | 0;
	var hNew = this1.height * scaleH | 0;
	var this2 = new Uint32Array(wNew * hNew | 0);
	var this3 = new pixelimage_ImageStruct(wNew,hNew,this2);
	var pixelImage = this3;
	var maxX = wNew;
	var maxY = hNew;
	while(true) {
		var x = p / scaleW | 0;
		var y = q / scaleH | 0;
		var c = this1.image[this1.useVirtualPos ? (y - this1.virtualY) * this1.width + x - this1.virtualX | 0 : y * this1.width + x | 0];
		var color = pixelimage_Endian_isLittleEndian ? (c >> 24 & 255) << 24 | (c & 255) << 16 | (c >> 8 & 255) << 8 | c >> 16 & 255 : c;
		var x1 = p++;
		var this2 = color;
		var c1 = this2;
		if((c1 >> 24 & 255) < 254 && pixelImage.transparent) {
			var location = pixelImage.useVirtualPos ? (q - pixelImage.virtualY) * pixelImage.width + x1 - pixelImage.virtualX | 0 : q * pixelImage.width + x1 | 0;
			var this3 = pixelImage.image[location];
			var this4 = this3;
			var this5 = pixelimage_Endian_isLittleEndian ? (this4 >> 24 & 255) << 24 | (this4 & 255) << 16 | (this4 >> 8 & 255) << 8 | this4 >> 16 & 255 : this4;
			var this6 = this5 >> 24 & 255;
			var a1 = this6 == 0 ? 0. : this6 / 255;
			var this7 = this5 >> 16 & 255;
			var r1 = this7 == 0 ? 0. : this7 / 255;
			var this8 = this5 >> 8 & 255;
			var g1 = this8 == 0 ? 0. : this8 / 255;
			var this9 = this5 & 255;
			var b1 = this9 == 0 ? 0. : this9 / 255;
			var this10 = color >> 24 & 255;
			var a2 = this10 == 0 ? 0. : this10 / 255;
			var this11 = color >> 16 & 255;
			var r2 = this11 == 0 ? 0. : this11 / 255;
			var this12 = color >> 8 & 255;
			var g2 = this12 == 0 ? 0. : this12 / 255;
			var this13 = color & 255;
			var b2 = this13 == 0 ? 0. : this13 / 255;
			var a3 = a1 * (1 - a2);
			var r = 255 * (r1 * a3 + r2 * a2) | 0;
			var g = 255 * (g1 * a3 + g2 * a2) | 0;
			var b = 255 * (b1 * a3 + b2 * a2) | 0;
			var a = 255 * (a3 + a2) | 0;
			var blended = a << 24 | r << 16 | g << 8 | b;
			pixelImage.image[location] = pixelimage_Endian_isLittleEndian ? (blended >> 24 & 255) << 24 | (blended & 255) << 16 | (blended >> 8 & 255) << 8 | blended >> 16 & 255 : blended;
		} else {
			pixelImage.image[pixelImage.useVirtualPos ? (q - pixelImage.virtualY) * pixelImage.width + x1 - pixelImage.virtualX | 0 : q * pixelImage.width + x1 | 0] = pixelimage_Endian_isLittleEndian ? (c1 >> 24 & 255) << 24 | (c1 & 255) << 16 | (c1 >> 8 & 255) << 8 | c1 >> 16 & 255 : c1;
		}
		if(p > maxX) {
			p = xx;
			++q;
		}
		if(q > maxY) {
			break;
		}
	}
	if(this1.mask != null && includeMask) {
		var v = pixelimage_Pixelimage.scaleUpInt(this1.mask,scaleW,scaleH,this1.mask.transparent,includeMask);
		pixelImage.useMask = true;
		pixelImage.mask = v;
	}
	return pixelImage;
};
var pixelimage_algo_HitQuad = function(ax,ay,bx,by,cx,cy,dx,dy,preCalculated) {
	if(preCalculated == null) {
		preCalculated = true;
	}
	this.ax = ax;
	this.ay = ay;
	this.bx = bx;
	this.by = by;
	this.cx = cx;
	this.cy = cy;
	this.dx = dx;
	this.dy = dy;
	if(preCalculated) {
		this.triABD = new pixelimage_algo_HitTri(this.ax,this.ay,this.bx,this.by,this.dx,this.dy,true);
		this.triBCD = new pixelimage_algo_HitTri(this.bx,this.by,this.cx,this.cy,this.dx,this.dy,true);
		var a = this.ax;
		var b = this.bx;
		var c = this.cx;
		var d = this.dx;
		var min = Math.floor(a);
		var max = Math.ceil(a);
		if(b < min) {
			min = Math.floor(b);
		} else if(b > max) {
			max = Math.ceil(b);
		}
		if(c < min) {
			min = Math.floor(c);
		} else if(c > max) {
			max = Math.ceil(c);
		}
		if(d < min) {
			min = Math.floor(d);
		} else if(d > max) {
			max = Math.ceil(d);
		}
		var ii_min = min;
		var ii_max = max;
		var this1 = new pixelimage_iter_IntIterStart(ii_min,ii_max);
		this.xIter4 = this1;
		var a = this.ay;
		var b = this.by;
		var c = this.cy;
		var d = this.dy;
		var min = Math.floor(a);
		var max = Math.ceil(a);
		if(b < min) {
			min = Math.floor(b);
		} else if(b > max) {
			max = Math.ceil(b);
		}
		if(c < min) {
			min = Math.floor(c);
		} else if(c > max) {
			max = Math.ceil(c);
		}
		if(d < min) {
			min = Math.floor(d);
		} else if(d > max) {
			max = Math.ceil(d);
		}
		var ii_min = min;
		var ii_max = max;
		var this1 = new pixelimage_iter_IntIterStart(ii_min,ii_max);
		this.yIter4 = this1;
	}
};
pixelimage_algo_HitQuad.__name__ = true;
var pixelimage_algo_HitTri = function(ax,ay,bx,by,cx,cy,preCalculated) {
	if(preCalculated == null) {
		preCalculated = true;
	}
	var adjustWinding = ax * by - bx * ay + (bx * cy - cx * by) + (cx * ay - ax * cy) > 0;
	if(!adjustWinding) {
		var bx_ = bx;
		var by_ = by;
		bx = cx;
		by = cy;
		cx = bx_;
		cy = by_;
	}
	this.ax = ax;
	this.ay = ay;
	this.bx = bx;
	this.by = by;
	this.cx = cx;
	this.cy = cy;
	this.preCalculated = preCalculated;
	if(preCalculated) {
		this.s0 = this.ay * this.cx - this.ax * this.cy;
		this.sx = this.cy - this.ay;
		this.sy = this.ax - this.cx;
		this.t0 = this.ax * this.by - this.ay * this.bx;
		this.tx = this.ay - this.by;
		this.ty = this.bx - this.ax;
		this.A = -this.by * this.cx + this.ay * (-this.bx + this.cx) + this.ax * (this.by - this.cy) + this.bx * this.cy;
		var a = this.ax;
		var b = this.bx;
		var c = this.cx;
		var tmp;
		if(a > b) {
			if(a > c) {
				var ii_min = b > c ? Math.floor(c) : Math.floor(b);
				var ii_max = Math.ceil(a);
				var this1 = new pixelimage_iter_IntIterStart(ii_min,ii_max);
				tmp = this1;
			} else {
				var ii_min = Math.floor(b);
				var ii_max = Math.ceil(c);
				var this1 = new pixelimage_iter_IntIterStart(ii_min,ii_max);
				tmp = this1;
			}
		} else if(b > c) {
			var ii_min = a > c ? Math.floor(c) : Math.ceil(a);
			var ii_max = Math.ceil(b);
			var this1 = new pixelimage_iter_IntIterStart(ii_min,ii_max);
			tmp = this1;
		} else {
			var ii_min = Math.floor(a);
			var ii_max = Math.ceil(c);
			var this1 = new pixelimage_iter_IntIterStart(ii_min,ii_max);
			tmp = this1;
		}
		this.xIter3 = tmp;
		var a = this.ay;
		var b = this.by;
		var c = this.cy;
		var tmp;
		if(a > b) {
			if(a > c) {
				var ii_min = b > c ? Math.floor(c) : Math.floor(b);
				var ii_max = Math.ceil(a);
				var this1 = new pixelimage_iter_IntIterStart(ii_min,ii_max);
				tmp = this1;
			} else {
				var ii_min = Math.floor(b);
				var ii_max = Math.ceil(c);
				var this1 = new pixelimage_iter_IntIterStart(ii_min,ii_max);
				tmp = this1;
			}
		} else if(b > c) {
			var ii_min = a > c ? Math.floor(c) : Math.ceil(a);
			var ii_max = Math.ceil(b);
			var this1 = new pixelimage_iter_IntIterStart(ii_min,ii_max);
			tmp = this1;
		} else {
			var ii_min = Math.floor(a);
			var ii_max = Math.ceil(c);
			var this1 = new pixelimage_iter_IntIterStart(ii_min,ii_max);
			tmp = this1;
		}
		this.yIter3 = tmp;
	}
};
pixelimage_algo_HitTri.__name__ = true;
var pixelimage_fontImage_CharPlacement1D = function(currX,currY,minX,maxX) {
	this.currX = currX;
	this.currY = currY;
	this.minX = minX;
	this.maxX = maxX;
};
pixelimage_fontImage_CharPlacement1D.__name__ = true;
var pixelimage_fontImage_OneDfont = function(fontImage,startingAscii,markerColor,pairOffset) {
	if(markerColor == null) {
		markerColor = -1;
	}
	if(startingAscii == null) {
		startingAscii = 33;
	}
	this.markers = [];
	this.fontImage = fontImage;
	this.startingAscii = startingAscii;
	this.markerColor = markerColor;
	this.pairOffset = pairOffset;
	var l = this.fontImage.width;
	var _g = 0;
	var _g1 = l;
	while(_g < _g1) {
		var i = _g++;
		var this1 = this.fontImage;
		var c = this1.image[this1.useVirtualPos ? (0 - this1.virtualY) * this1.width + i - this1.virtualX | 0 : 0 * this1.width + i | 0];
		var color = pixelimage_Endian_isLittleEndian ? (c >> 24 & 255) << 24 | (c & 255) << 16 | (c >> 8 & 255) << 8 | c >> 16 & 255 : c;
		if(color == this.markerColor) {
			this.markers[this.markers.length] = i;
		}
	}
};
pixelimage_fontImage_OneDfont.__name__ = true;
function pixelimage_fontImage_TestLem_lemBlue() {
	return "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAA1gAAAARBAMAAAAyDhCiAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAG1BMVEX///8AAAAZMTEZUowZKWMZe7Vjxf9Cpd7m5v/whW7DAAAAAWJLR0QAiAUdSAAAAAlwSFlzAAALEgAACxIB0t1+/AAAAAd0SU1FB+ICEwk5NI/V+bgAAAwrSURBVFjD7VjNmtu4Edy8QYBBHgAgGJ1FgitfARBWrhZJa89e7RefNZqfc8Z571Q1yPGsd53kuIfVfBqBABpodHVXN/jDX5RSf8VX/dn4wzd+UP/to9Wfnz/Q5welO/x0d1bdWbTMB3YYa3qL7ob/RvRG/Hr7+0sYqzwlIWH6gIeeKzZRZTzp3Cd8Q8S/iKH0RlBvD55fDOsc0CvzZJ0kDRH3fT8ql4P1FvrVdXSnEx54ACzVWExWr1LQJW3rQDz3Y51j9V5HnBWngTgOhZVxuuxEC6UnKydaNdx/VfDbrvUoVeojJNpPSklf8x1Dvf38rzDgGtCzovMVrLt7dN3/fa926Ya9O3v3otqYn6nUe1vVb6/4/Xv6zrpRH3/Gz2NU5fGfUZfHf1ulh6jPTy/27vy5M8vT5705fz5h6Mubg5iwNgo6OeSXZ0D8GFR5+szGi2XDnCGenx5fVHP+HI/R3DD5hXa6mNlc8IOlZnWMzfkXSJ0vtpzvIyZ/EXE9nD/vC8TNbN/HNmpIqffxaPWMnjaW8+MXyDt1pGr6gFPu9puGl/p7/Hr0tUvn8xdp7OjHeoBsc1LmxjW+Z6i3n+95/vahMuaElW+/Asvg3Ob+uMceF+j6mcZ4H0v+tOpgLla+fjfa393kH3tzeLaq+bhX7fDTySz9R8TG815PY7BtnxFZ47AvoVz0lDGkuYQjyji3dng6Ijw4lH3p9LC8qDIOn/SAdUo/fDITgrL0OaCnJ1gXIBIqWLdmBevBvds3/bsPlLKlf9dJ4zhRPPQx91OAJYFRMhc54LEzF82eHMJFrHyMchpYevjXerT29D2w/DCmN2CN7IpcBsd5/3+AVTf77kcXbsWomsXgdgXrDrv7U7Hmx/7FGpwO3HK2R39dYfVAzZyt2u12CJjyG0WAaDO/3yuN/U16P5tpPMCvn/Z6ds62yVntfG9L8jf4LydRh0yMYIqGnNl+wXEx1Gl/Nf34MbbOX3U/DrGEfDVzGm0bxoQebwudyQ9UAwvegLOHluYJUph8k93bcfyk2TiO49VMEPfjLQGaI8GCFMPwU9uJPn4sNSQqMrC07qct5BPdCUGX3OpXDruxxwVn1ymWQ/Q/mGd2qUKLtswTqbXhlNZbg2Iyh1NrY2vK5HkDq8g2aYss0OBdDMp8PP+y93M4KQvv2XnGINXfnSon3w09GsffgIXJbfRIdQWAud1JJ1hAHw8EC/Em8+9mtSPtXOlRDThTv+vIlNDlGWrpB6ucG+KpvV7FgALW7DywJiJQvxB0oI+9YGstlEX0sZ6Atdyf46s/iFTAXrvkZ5HSfrYgvR2G9E04E2QSwXkDXIkOBAc2tzWITBhW/hAuQVwDfcl9zKo3yYQevCmNMvZKxOnHUPXeEmKkGsmhXzMv1gnW+DUh+9LHmjEBBHITigT8qajWyd+ApfsNrJkZFesfx5t1NxeFfZvbXlXCOlLkJ1jz4Yp/W2Rpt/EhJrcWMEhka9CpZb4aStRTgMrcWt2d1K7zQV9hazGuzif8Wngo2USDHJ0JtgvpCqKGScd8ggG0apOZ9dRbcWDDpYDIvIGFOUiongeYlyESR0wvFRGoxcasDxTDJMPI2rHnhiH9I3PxTCsvtlpbIKKlU14Px4DJTJSH54TGS/TD0yw9fh5R+XBoeGR+hNRwgz94JIw2MdEjlQzPibkNOfQ51snlOUgjn58u5k2kg5ZjpvoX5usk6aoWFy2t6h9WsDQrMJIiCwzJrzS7YVWkXsE6WDWWMeqxhHoOoa+NtCtYXNZTzKOCm9u9Hp5+Vs2Cs3DI3OBLN1cAi1BYUkxnAroPPcSbTnUnjT+HpD88RD0LNDD78oRsiP0QNaM9hhFqFjIHwuchCA4g7L4QLMSRrhgJWIws2DZVsGZLHP1c2fjIcmroVPVWVgYlrsxn32RmcC94dc4XPSQYdM43XRBnZTknPaDRnjJSHgkHvo5jdzU4H9PhQxkhRVYvY/kk6yDz3gylkPKg7FtabjuWTqT4sXQVLLOB5Q9fNrDGzeqsBttLdTGJw1feZnFyfnqazXB+qJkxf5y3VIjUbLl4Ye3N3iYglLDJGA62CaxUMOTpZj+OCBKJV4Q+zltLnbyciXVSp5O+6luG5uNhT2dXEhpwYtUuN2aEc2wpxcgChaCYmdUaWb7dwCqxIfsRLJiLdf5FJulKgw2WhD+ohkmZh5N7Bzfz3XbcN4W1DiuvouHryqBkeOVoTSAtJ2YxWYdMS2eXyLo/77EXpd5XWqaHlADxIdWcpVmLil9RH/PzYKk+3BcJ2e83sO6YQ8+nDaz0Fix9jkLert+ca0cRwOeGTsKr9rtx40MibIktw0cSv7m3bQeNnTvanFCp0LY5wQPzw7SBxXQ21shyI88K0E+MrGV4kpwl9ssEK4CNkDUYWeC60M/iIRlg6XmoNAj7F/AIkdUNK42ugvUwYQt/kElgUeAYYJ7TAF3LvILFgJLNxEG/raDghqhGKq9qWyzBYgZCzgJYuGUkmqslmYO3l/saoWbuj2sOpYcwZkLNmLhcSBRDL+pTyPPzCFoexBvnyk4Cll7B8kuIK1hrWajMob+3xqE0ghFUU6L9dWS55cosGqvf1dJIVXc8bmB5npk5q4TDiAZox9KnB4KFBkJ8rQbpyCe33aBzlPrwdHWwP4rAhtVIkJylgw4SYq5aO6cRC7bIYoysQFql1WE1iSxDGiRGsG1hxW4rrcOsMEVGrsG1cP6IjNqXehwCX9OhzvZ3wOrUbuNVehRDd6knRTiD4hLPTinggmIaS6CoMnMm5UKfk21XxXino9H9Fn3saZIJej5gAIbXB54tJ7XSYKo02EzJbpG1Jh9zRjW4Cz0TfGNbf1376TR0ezPk1ayvF/yppix86Ql8Z9GhZuvo5Mt5kga8axKweExAjIWa+xrh4sj5LHFh5VVAV04sp3FM51BXoBpstnKugb7oaWAB2j2z5PCdnlG0elTRqP0QUBHIzpjThJGlY0YxiT7HRCk06CZYDT4w5XsgBn017dpLzW3X/ND8NrLoIcAIDGHBIUGTXSpYwpDMeVtkBdqHHhBAy/kVrNQEif2GYCFXSMUo8DVXDjFFM7LyNFe/+VWBQUddweIbjBWV2TbnBxQw9rA/+mmd0dCuIMVdu7P1UtyuMP7tF1u9sbnlWkWUOXS46fS4vEBTNsBIQcRh28AyuNKWvDahF9ZqMNQ8UTykWGDkcQyoTnNskHR0YB7ntCMWZMqRe1YzY3IASm4e2YeDkwYhZaXOPyA/til/0COkJLIOuKSTwwxvcL4DzqRBjxtctZCwxLeRJQmOZQmqI0/fm+H6jkUUwSrgeWhP0LmGOA/xXqVIywjnMvcJu7NeZQbxuLNkmZMtQiBCnz7WwnaEjTq3WYSqwL7tFhy1dK+oJOw6zowARsQxvLoWvqDBNq3Mt93Q7+63C8FCx4TblIcnJNAFWjscgo1mwT2DiPoHEF5ewvoiUdJDXOlUvLlBzC3B8YYS8zSNegRVN9OEdYYlkhs0xckbEo9+CHRzpK5+Ql6DVBNBKc2EOVy4XQ4WtBfMMIDyPcNxSaRj5ppMZKuR8zDMSqhW3n+tkYV4rJcTGBmTb3C5raFxQbeMrNUf9EpdZLZA1Js1HwnFcU7uWedPNbLgPEOUyRzScN+acBMDElhn3ul03iKLBlOvYH19ncqaWu85x9u7ZdzKPd7RGF3NGmp6uzJqX0ewv1Tj9Aw4Ob6YgDrfo+HG0cmQNDwf9EY2fqv+hR0Oe4aZrVdFrKEojobFgjCO5Ef2yAyWJttkx01FahuSypv50RNOist9QXb3MEkCwXJdOYHsJUUMTaHrGwOQo7zfpWsvfcwDXK6Fq5gBd0fACyd46zz+EASwmmARdYYe0zDh8m228JhL1IcrT3N9WZCnIEYQT4P6cCkUr7lf0gpWqmDpN2C5LeCZ9WlJefsxug0bZosVjLVjE05qLU/ECet7Fb6LWJ8cXx3Ik1a1IXGkVzb9urMI0LEosL6oqeLrEmA1WZM9W0Mm47lOZpEpPyJZV/eRr7ooXjfddqeUdcISTtbCGll0sWuIgTWW5byvPgw/cYnKj3wT4mBSJ25BDof/Wc2IQLx2YqfEbg7zlQSGOEdcUyOZigKOjmdsFacXiadp/mVC7VwULxJD67RxID7/AX/iNkfhVAcYAAAAJXRFWHRkYXRlOmNyZWF0ZQAyMDIwLTEwLTI1VDE5OjUwOjA0LTA2OjAwqy7PawAAACV0RVh0ZGF0ZTptb2RpZnkAMjAxOC0wMi0xOVQxNjo1Nzo1Mi0wNzowMKaeT2YAAAAASUVORK5CYII=";
}
function pixelimage_fontImage_TestLem_lemYellow() {
	return "data:image/png;base64,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";
}
function pixelimage_fontImage_TestLem_lemRed() {
	return "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAA1gAAAARBAMAAAAyDhCiAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAG1BMVEX///8AAAAxGRmMKSljGRm1UlL/nJzee3v/5ub8yYMVAAAAAWJLR0QAiAUdSAAAAAlwSFlzAAALEgAACxIB0t1+/AAAAAd0SU1FB+ICEwk5NI/V+bgAAAwrSURBVFjD7VjNmtu4Edy8QYBBHgAgGJ1FgitfARBWrhZJa89e7RefNZqfc8Z571Q1yPGsd53kuIfVfBqBABpodHVXN/jDX5RSf8VX/dn4wzd+UP/to9Wfnz/Q5welO/x0d1bdWbTMB3YYa3qL7ob/RvRG/Hr7+0sYqzwlIWH6gIeeKzZRZTzp3Cd8Q8S/iKH0RlBvD55fDOsc0CvzZJ0kDRH3fT8ql4P1FvrVdXSnEx54ACzVWExWr1LQJW3rQDz3Y51j9V5HnBWngTgOhZVxuuxEC6UnKydaNdx/VfDbrvUoVeojJNpPSklf8x1Dvf38rzDgGtCzovMVrLt7dN3/fa926Ya9O3v3otqYn6nUe1vVb6/4/Xv6zrpRH3/Gz2NU5fGfUZfHf1ulh6jPTy/27vy5M8vT5705fz5h6Mubg5iwNgo6OeSXZ0D8GFR5+szGi2XDnCGenx5fVHP+HI/R3DD5hXa6mNlc8IOlZnWMzfkXSJ0vtpzvIyZ/EXE9nD/vC8TNbN/HNmpIqffxaPWMnjaW8+MXyDt1pGr6gFPu9puGl/p7/Hr0tUvn8xdp7OjHeoBsc1LmxjW+Z6i3n+95/vahMuaElW+/Asvg3Ob+uMceF+j6mcZ4H0v+tOpgLla+fjfa393kH3tzeLaq+bhX7fDTySz9R8TG815PY7BtnxFZ47AvoVz0lDGkuYQjyji3dng6Ijw4lH3p9LC8qDIOn/SAdUo/fDITgrL0OaCnJ1gXIBIqWLdmBevBvds3/bsPlLKlf9dJ4zhRPPQx91OAJYFRMhc54LEzF82eHMJFrHyMchpYevjXerT29D2w/DCmN2CN7IpcBsd5/3+AVTf77kcXbsWomsXgdgXrDrv7U7Hmx/7FGpwO3HK2R39dYfVAzZyt2u12CJjyG0WAaDO/3yuN/U16P5tpPMCvn/Z6ds62yVntfG9L8jf4LydRh0yMYIqGnNl+wXEx1Gl/Nf34MbbOX3U/DrGEfDVzGm0bxoQebwudyQ9UAwvegLOHluYJUph8k93bcfyk2TiO49VMEPfjLQGaI8GCFMPwU9uJPn4sNSQqMrC07qct5BPdCUGX3OpXDruxxwVn1ymWQ/Q/mGd2qUKLtswTqbXhlNZbg2Iyh1NrY2vK5HkDq8g2aYss0OBdDMp8PP+y93M4KQvv2XnGINXfnSon3w09GsffgIXJbfRIdQWAud1JJ1hAHw8EC/Em8+9mtSPtXOlRDThTv+vIlNDlGWrpB6ucG+KpvV7FgALW7DywJiJQvxB0oI+9YGstlEX0sZ6Atdyf46s/iFTAXrvkZ5HSfrYgvR2G9E04E2QSwXkDXIkOBAc2tzWITBhW/hAuQVwDfcl9zKo3yYQevCmNMvZKxOnHUPXeEmKkGsmhXzMv1gnW+DUh+9LHmjEBBHITigT8qajWyd+ApfsNrJkZFesfx5t1NxeFfZvbXlXCOlLkJ1jz4Yp/W2Rpt/EhJrcWMEhka9CpZb4aStRTgMrcWt2d1K7zQV9hazGuzif8Wngo2USDHJ0JtgvpCqKGScd8ggG0apOZ9dRbcWDDpYDIvIGFOUiongeYlyESR0wvFRGoxcasDxTDJMPI2rHnhiH9I3PxTCsvtlpbIKKlU14Px4DJTJSH54TGS/TD0yw9fh5R+XBoeGR+hNRwgz94JIw2MdEjlQzPibkNOfQ51snlOUgjn58u5k2kg5ZjpvoX5usk6aoWFy2t6h9WsDQrMJIiCwzJrzS7YVWkXsE6WDWWMeqxhHoOoa+NtCtYXNZTzKOCm9u9Hp5+Vs2Cs3DI3OBLN1cAi1BYUkxnAroPPcSbTnUnjT+HpD88RD0LNDD78oRsiP0QNaM9hhFqFjIHwuchCA4g7L4QLMSRrhgJWIws2DZVsGZLHP1c2fjIcmroVPVWVgYlrsxn32RmcC94dc4XPSQYdM43XRBnZTknPaDRnjJSHgkHvo5jdzU4H9PhQxkhRVYvY/kk6yDz3gylkPKg7FtabjuWTqT4sXQVLLOB5Q9fNrDGzeqsBttLdTGJw1feZnFyfnqazXB+qJkxf5y3VIjUbLl4Ye3N3iYglLDJGA62CaxUMOTpZj+OCBKJV4Q+zltLnbyciXVSp5O+6luG5uNhT2dXEhpwYtUuN2aEc2wpxcgChaCYmdUaWb7dwCqxIfsRLJiLdf5FJulKgw2WhD+ohkmZh5N7Bzfz3XbcN4W1DiuvouHryqBkeOVoTSAtJ2YxWYdMS2eXyLo/77EXpd5XWqaHlADxIdWcpVmLil9RH/PzYKk+3BcJ2e83sO6YQ8+nDaz0Fix9jkLert+ca0cRwOeGTsKr9rtx40MibIktw0cSv7m3bQeNnTvanFCp0LY5wQPzw7SBxXQ21shyI88K0E+MrGV4kpwl9ssEK4CNkDUYWeC60M/iIRlg6XmoNAj7F/AIkdUNK42ugvUwYQt/kElgUeAYYJ7TAF3LvILFgJLNxEG/raDghqhGKq9qWyzBYgZCzgJYuGUkmqslmYO3l/saoWbuj2sOpYcwZkLNmLhcSBRDL+pTyPPzCFoexBvnyk4Cll7B8kuIK1hrWajMob+3xqE0ghFUU6L9dWS55cosGqvf1dJIVXc8bmB5npk5q4TDiAZox9KnB4KFBkJ8rQbpyCe33aBzlPrwdHWwP4rAhtVIkJylgw4SYq5aO6cRC7bIYoysQFql1WE1iSxDGiRGsG1hxW4rrcOsMEVGrsG1cP6IjNqXehwCX9OhzvZ3wOrUbuNVehRDd6knRTiD4hLPTinggmIaS6CoMnMm5UKfk21XxXino9H9Fn3saZIJej5gAIbXB54tJ7XSYKo02EzJbpG1Jh9zRjW4Cz0TfGNbf1376TR0ezPk1ayvF/yppix86Ql8Z9GhZuvo5Mt5kga8axKweExAjIWa+xrh4sj5LHFh5VVAV04sp3FM51BXoBpstnKugb7oaWAB2j2z5PCdnlG0elTRqP0QUBHIzpjThJGlY0YxiT7HRCk06CZYDT4w5XsgBn017dpLzW3X/ND8NrLoIcAIDGHBIUGTXSpYwpDMeVtkBdqHHhBAy/kVrNQEif2GYCFXSMUo8DVXDjFFM7LyNFe/+VWBQUddweIbjBWV2TbnBxQw9rA/+mmd0dCuIMVdu7P1UtyuMP7tF1u9sbnlWkWUOXS46fS4vEBTNsBIQcRh28AyuNKWvDahF9ZqMNQ8UTykWGDkcQyoTnNskHR0YB7ntCMWZMqRe1YzY3IASm4e2YeDkwYhZaXOPyA/til/0COkJLIOuKSTwwxvcL4DzqRBjxtctZCwxLeRJQmOZQmqI0/fm+H6jkUUwSrgeWhP0LmGOA/xXqVIywjnMvcJu7NeZQbxuLNkmZMtQiBCnz7WwnaEjTq3WYSqwL7tFhy1dK+oJOw6zowARsQxvLoWvqDBNq3Mt93Q7+63C8FCx4TblIcnJNAFWjscgo1mwT2DiPoHEF5ewvoiUdJDXOlUvLlBzC3B8YYS8zSNegRVN9OEdYYlkhs0xckbEo9+CHRzpK5+Ql6DVBNBKc2EOVy4XQ4WtBfMMIDyPcNxSaRj5ppMZKuR8zDMSqhW3n+tkYV4rJcTGBmTb3C5raFxQbeMrNUf9EpdZLZA1Js1HwnFcU7uWedPNbLgPEOUyRzScN+acBMDElhn3ul03iKLBlOvYH19ncqaWu85x9u7ZdzKPd7RGF3NGmp6uzJqX0ewv1Tj9Aw4Ob6YgDrfo+HG0cmQNDwf9EY2fqv+hR0Oe4aZrVdFrKEojobFgjCO5Ef2yAyWJttkx01FahuSypv50RNOist9QXb3MEkCwXJdOYHsJUUMTaHrGwOQo7zfpWsvfcwDXK6Fq5gBd0fACyd46zz+EASwmmARdYYe0zDh8m228JhL1IcrT3N9WZCnIEYQT4P6cCkUr7lf0gpWqmDpN2C5LeCZ9WlJefsxug0bZosVjLVjE05qLU/ECet7Fb6LWJ8cXx3Ik1a1IXGkVzb9urMI0LEosL6oqeLrEmA1WZM9W0Mm47lOZpEpPyJZV/eRr7ooXjfddqeUdcISTtbCGll0sWuIgTWW5byvPgw/cYnKj3wT4mBSJ25BDof/Wc2IQLx2YqfEbg7zlQSGOEdcUyOZigKOjmdsFacXiadp/mVC7VwULxJD67RxID7/AX/iNkfhVAcYAAAAJXRFWHRkYXRlOmNyZWF0ZQAyMDIwLTEwLTI1VDE5OjUwOjA0LTA2OjAwqy7PawAAACV0RVh0ZGF0ZTptb2RpZnkAMjAxOC0wMi0xOVQxNjo1Nzo1Mi0wNzowMKaeT2YAAAAASUVORK5CYII=";
}
function pixelimage_fontImage_TestLem_lemCyan() {
	return "data:image/png;base64,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";
}
function pixelimage_fontImage_TestLem_lemPurple() {
	return "data:image/png;base64,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";
}
function pixelimage_fontImage_TestLem_lemOrange() {
	return "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAA1gAAAARBAMAAAAyDhCiAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAG1BMVEX///8AAAAxGRmMShljIRm1cxn/vVrenDr/5ua3JNBQAAAAAWJLR0QAiAUdSAAAAAlwSFlzAAALEgAACxIB0t1+/AAAAAd0SU1FB+ICEwk5NI/V+bgAAAwrSURBVFjD7VjNmtu4Edy8QYBBHgAgGJ1FgitfARBWrhZJa89e7RefNZqfc8Z571Q1yPGsd53kuIfVfBqBABpodHVXN/jDX5RSf8VX/dn4wzd+UP/to9Wfnz/Q5welO/x0d1bdWbTMB3YYa3qL7ob/RvRG/Hr7+0sYqzwlIWH6gIeeKzZRZTzp3Cd8Q8S/iKH0RlBvD55fDOsc0CvzZJ0kDRH3fT8ql4P1FvrVdXSnEx54ACzVWExWr1LQJW3rQDz3Y51j9V5HnBWngTgOhZVxuuxEC6UnKydaNdx/VfDbrvUoVeojJNpPSklf8x1Dvf38rzDgGtCzovMVrLt7dN3/fa926Ya9O3v3otqYn6nUe1vVb6/4/Xv6zrpRH3/Gz2NU5fGfUZfHf1ulh6jPTy/27vy5M8vT5705fz5h6Mubg5iwNgo6OeSXZ0D8GFR5+szGi2XDnCGenx5fVHP+HI/R3DD5hXa6mNlc8IOlZnWMzfkXSJ0vtpzvIyZ/EXE9nD/vC8TNbN/HNmpIqffxaPWMnjaW8+MXyDt1pGr6gFPu9puGl/p7/Hr0tUvn8xdp7OjHeoBsc1LmxjW+Z6i3n+95/vahMuaElW+/Asvg3Ob+uMceF+j6mcZ4H0v+tOpgLla+fjfa393kH3tzeLaq+bhX7fDTySz9R8TG815PY7BtnxFZ47AvoVz0lDGkuYQjyji3dng6Ijw4lH3p9LC8qDIOn/SAdUo/fDITgrL0OaCnJ1gXIBIqWLdmBevBvds3/bsPlLKlf9dJ4zhRPPQx91OAJYFRMhc54LEzF82eHMJFrHyMchpYevjXerT29D2w/DCmN2CN7IpcBsd5/3+AVTf77kcXbsWomsXgdgXrDrv7U7Hmx/7FGpwO3HK2R39dYfVAzZyt2u12CJjyG0WAaDO/3yuN/U16P5tpPMCvn/Z6ds62yVntfG9L8jf4LydRh0yMYIqGnNl+wXEx1Gl/Nf34MbbOX3U/DrGEfDVzGm0bxoQebwudyQ9UAwvegLOHluYJUph8k93bcfyk2TiO49VMEPfjLQGaI8GCFMPwU9uJPn4sNSQqMrC07qct5BPdCUGX3OpXDruxxwVn1ymWQ/Q/mGd2qUKLtswTqbXhlNZbg2Iyh1NrY2vK5HkDq8g2aYss0OBdDMp8PP+y93M4KQvv2XnGINXfnSon3w09GsffgIXJbfRIdQWAud1JJ1hAHw8EC/Em8+9mtSPtXOlRDThTv+vIlNDlGWrpB6ucG+KpvV7FgALW7DywJiJQvxB0oI+9YGstlEX0sZ6Atdyf46s/iFTAXrvkZ5HSfrYgvR2G9E04E2QSwXkDXIkOBAc2tzWITBhW/hAuQVwDfcl9zKo3yYQevCmNMvZKxOnHUPXeEmKkGsmhXzMv1gnW+DUh+9LHmjEBBHITigT8qajWyd+ApfsNrJkZFesfx5t1NxeFfZvbXlXCOlLkJ1jz4Yp/W2Rpt/EhJrcWMEhka9CpZb4aStRTgMrcWt2d1K7zQV9hazGuzif8Wngo2USDHJ0JtgvpCqKGScd8ggG0apOZ9dRbcWDDpYDIvIGFOUiongeYlyESR0wvFRGoxcasDxTDJMPI2rHnhiH9I3PxTCsvtlpbIKKlU14Px4DJTJSH54TGS/TD0yw9fh5R+XBoeGR+hNRwgz94JIw2MdEjlQzPibkNOfQ51snlOUgjn58u5k2kg5ZjpvoX5usk6aoWFy2t6h9WsDQrMJIiCwzJrzS7YVWkXsE6WDWWMeqxhHoOoa+NtCtYXNZTzKOCm9u9Hp5+Vs2Cs3DI3OBLN1cAi1BYUkxnAroPPcSbTnUnjT+HpD88RD0LNDD78oRsiP0QNaM9hhFqFjIHwuchCA4g7L4QLMSRrhgJWIws2DZVsGZLHP1c2fjIcmroVPVWVgYlrsxn32RmcC94dc4XPSQYdM43XRBnZTknPaDRnjJSHgkHvo5jdzU4H9PhQxkhRVYvY/kk6yDz3gylkPKg7FtabjuWTqT4sXQVLLOB5Q9fNrDGzeqsBttLdTGJw1feZnFyfnqazXB+qJkxf5y3VIjUbLl4Ye3N3iYglLDJGA62CaxUMOTpZj+OCBKJV4Q+zltLnbyciXVSp5O+6luG5uNhT2dXEhpwYtUuN2aEc2wpxcgChaCYmdUaWb7dwCqxIfsRLJiLdf5FJulKgw2WhD+ohkmZh5N7Bzfz3XbcN4W1DiuvouHryqBkeOVoTSAtJ2YxWYdMS2eXyLo/77EXpd5XWqaHlADxIdWcpVmLil9RH/PzYKk+3BcJ2e83sO6YQ8+nDaz0Fix9jkLert+ca0cRwOeGTsKr9rtx40MibIktw0cSv7m3bQeNnTvanFCp0LY5wQPzw7SBxXQ21shyI88K0E+MrGV4kpwl9ssEK4CNkDUYWeC60M/iIRlg6XmoNAj7F/AIkdUNK42ugvUwYQt/kElgUeAYYJ7TAF3LvILFgJLNxEG/raDghqhGKq9qWyzBYgZCzgJYuGUkmqslmYO3l/saoWbuj2sOpYcwZkLNmLhcSBRDL+pTyPPzCFoexBvnyk4Cll7B8kuIK1hrWajMob+3xqE0ghFUU6L9dWS55cosGqvf1dJIVXc8bmB5npk5q4TDiAZox9KnB4KFBkJ8rQbpyCe33aBzlPrwdHWwP4rAhtVIkJylgw4SYq5aO6cRC7bIYoysQFql1WE1iSxDGiRGsG1hxW4rrcOsMEVGrsG1cP6IjNqXehwCX9OhzvZ3wOrUbuNVehRDd6knRTiD4hLPTinggmIaS6CoMnMm5UKfk21XxXino9H9Fn3saZIJej5gAIbXB54tJ7XSYKo02EzJbpG1Jh9zRjW4Cz0TfGNbf1376TR0ezPk1ayvF/yppix86Ql8Z9GhZuvo5Mt5kga8axKweExAjIWa+xrh4sj5LHFh5VVAV04sp3FM51BXoBpstnKugb7oaWAB2j2z5PCdnlG0elTRqP0QUBHIzpjThJGlY0YxiT7HRCk06CZYDT4w5XsgBn017dpLzW3X/ND8NrLoIcAIDGHBIUGTXSpYwpDMeVtkBdqHHhBAy/kVrNQEif2GYCFXSMUo8DVXDjFFM7LyNFe/+VWBQUddweIbjBWV2TbnBxQw9rA/+mmd0dCuIMVdu7P1UtyuMP7tF1u9sbnlWkWUOXS46fS4vEBTNsBIQcRh28AyuNKWvDahF9ZqMNQ8UTykWGDkcQyoTnNskHR0YB7ntCMWZMqRe1YzY3IASm4e2YeDkwYhZaXOPyA/til/0COkJLIOuKSTwwxvcL4DzqRBjxtctZCwxLeRJQmOZQmqI0/fm+H6jkUUwSrgeWhP0LmGOA/xXqVIywjnMvcJu7NeZQbxuLNkmZMtQiBCnz7WwnaEjTq3WYSqwL7tFhy1dK+oJOw6zowARsQxvLoWvqDBNq3Mt93Q7+63C8FCx4TblIcnJNAFWjscgo1mwT2DiPoHEF5ewvoiUdJDXOlUvLlBzC3B8YYS8zSNegRVN9OEdYYlkhs0xckbEo9+CHRzpK5+Ql6DVBNBKc2EOVy4XQ4WtBfMMIDyPcNxSaRj5ppMZKuR8zDMSqhW3n+tkYV4rJcTGBmTb3C5raFxQbeMrNUf9EpdZLZA1Js1HwnFcU7uWedPNbLgPEOUyRzScN+acBMDElhn3ul03iKLBlOvYH19ncqaWu85x9u7ZdzKPd7RGF3NGmp6uzJqX0ewv1Tj9Aw4Ob6YgDrfo+HG0cmQNDwf9EY2fqv+hR0Oe4aZrVdFrKEojobFgjCO5Ef2yAyWJttkx01FahuSypv50RNOist9QXb3MEkCwXJdOYHsJUUMTaHrGwOQo7zfpWsvfcwDXK6Fq5gBd0fACyd46zz+EASwmmARdYYe0zDh8m228JhL1IcrT3N9WZCnIEYQT4P6cCkUr7lf0gpWqmDpN2C5LeCZ9WlJefsxug0bZosVjLVjE05qLU/ECet7Fb6LWJ8cXx3Ik1a1IXGkVzb9urMI0LEosL6oqeLrEmA1WZM9W0Mm47lOZpEpPyJZV/eRr7ooXjfddqeUdcISTtbCGll0sWuIgTWW5byvPgw/cYnKj3wT4mBSJ25BDof/Wc2IQLx2YqfEbg7zlQSGOEdcUyOZigKOjmdsFacXiadp/mVC7VwULxJD67RxID7/AX/iNkfhVAcYAAAAJXRFWHRkYXRlOmNyZWF0ZQAyMDIwLTEwLTI1VDE5OjUwOjA0LTA2OjAwqy7PawAAACV0RVh0ZGF0ZTptb2RpZnkAMjAxOC0wMi0xOVQxNjo1Nzo1Mi0wNzowMKaeT2YAAAAASUVORK5CYII=";
}
function pixelimage_fontImage_TestLem_lemGreen() {
	return "data:image/png;base64,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";
}
var pixelimage_iter_IntIterStart = function(min_,max_) {
	this.start = min_;
	this.max = max_;
};
pixelimage_iter_IntIterStart.__name__ = true;
var pixelimage_$samples_pixelimage_$canvas_Arrows = function() {
	this.canvasSetup = new htmlHelper_canvas_CanvasSetup();
	this.imageLoader = new htmlHelper_tools_ImageLoader([],$bind(this,this.setup));
	this.imageLoader.loadEncoded([pixelimage_fontImage_TestLem_lemBlue(),pixelimage_fontImage_TestLem_lemRed(),pixelimage_fontImage_TestLem_lemYellow(),pixelimage_fontImage_TestLem_lemCyan(),pixelimage_fontImage_TestLem_lemPurple(),pixelimage_fontImage_TestLem_lemOrange(),pixelimage_fontImage_TestLem_lemGreen()],["lemBlue","lemRed","lemYellow","lemCyan","lemPurple","lemOrange","lemGreen"]);
};
pixelimage_$samples_pixelimage_$canvas_Arrows.__name__ = true;
pixelimage_$samples_pixelimage_$canvas_Arrows.prototype = {
	setup: function() {
		var images = this.imageLoader.images;
		this.begin();
		this.drawGrid();
		var img = images.h["lemRed"];
		var canvas = window.document.createElement("canvas");
		canvas.width = img.width;
		canvas.height = img.height;
		canvas.getContext("2d",null).drawImage(img,0,0,img.width,img.height);
		var w = img.width;
		var h = img.height;
		var this1 = new Uint32Array(w * h | 0);
		var this2 = new pixelimage_ImageStruct(w,h,this1);
		var pixelImage = this2;
		pixelImage.transparent = false;
		var ctx = canvas.getContext("2d",null);
		var imageData = pixelImage.useVirtualPos ? ctx.getImageData(pixelImage.virtualX,pixelImage.virtualY,pixelImage.width,pixelImage.height) : ctx.getImageData(0,0,pixelImage.width,pixelImage.height);
		var data = imageData.data;
		var temp = new Uint32Array(data.buffer);
		pixelImage.image = temp;
		canvas = null;
		var pixelFontSrc = pixelImage;
		var piFont = new pixelimage_fontImage_OneDfont(pixelFontSrc);
		var spacingX = 0;
		var transparent = true;
		if(transparent == null) {
			transparent = false;
		}
		if(spacingX == null) {
			spacingX = 0;
		}
		var spacingX1 = spacingX;
		if(spacingX1 == null) {
			spacingX1 = 0;
		}
		var code = 33;
		var position = 33;
		var lastLetters = piFont.markers.length - 1;
		var rectLeft = 0;
		var rectRight = 0;
		var rectBottom = piFont.fontImage.height;
		var charWidth = 0;
		var charWidthLast = 0;
		var charPos = [];
		var lastLetter = "";
		var finalPos = piFont.markers.length - 2;
		var nextLetter = "";
		var currPos = 0;
		var _g = 0;
		var _g1 = "Hello pixelimage!".length;
		while(_g < _g1) {
			var letter = _g++;
			code = HxOverrides.cca("Hello pixelimage!",letter);
			nextLetter = "Hello pixelimage!".charAt(letter);
			position = code - piFont.startingAscii;
			if(position >= finalPos || position < 0) {
				position = finalPos;
				if(nextLetter != " ") {
					haxe_Log.trace("character not found " + "Hello pixelimage!".charAt(letter),{ fileName : "pixelimage/fontImage/OneDfont.hx", lineNumber : 70, className : "pixelimage.fontImage.OneDfont", methodName : "createPlacement"});
				}
			}
			rectLeft = piFont.markers[position];
			rectRight = piFont.markers[position + 1];
			charWidth = rectRight - rectLeft;
			currPos += charWidthLast + spacingX1;
			if(piFont.pairOffset != null) {
				var pair = lastLetter + nextLetter;
				if(pair.length > 1) {
					if(Object.prototype.hasOwnProperty.call(piFont.pairOffset.h,pair)) {
						currPos += piFont.pairOffset.h[pair];
					}
				}
			}
			var info = new pixelimage_fontImage_CharPlacement1D(currPos,0,rectLeft,rectRight);
			charPos[charPos.length] = info;
			lastLetter = nextLetter;
			charWidthLast = charWidth;
		}
		currPos += charWidthLast + spacingX1;
		var charPos1 = charPos;
		var last = charPos1[charPos1.length - 1];
		var width = last.currX + (last.maxX - last.minX);
		var w = width;
		var h = piFont.fontImage.height - 1;
		var this1 = new Uint32Array(w * h | 0);
		var this2 = new pixelimage_ImageStruct(w,h,this1);
		var pixelImage = this2;
		pixelImage.transparent = transparent;
		var rectBottom = piFont.fontImage.height;
		var rectTop = 1;
		var _g = 0;
		while(_g < charPos1.length) {
			var info = charPos1[_g];
			++_g;
			var pixelImage1 = piFont.fontImage;
			var x = info.currX;
			var y = info.currY;
			var rectLeft = info.minX;
			var rectRight = info.maxX;
			var _g1 = rectTop;
			var _g2 = rectBottom;
			while(_g1 < _g2) {
				var dy = _g1++;
				var _g3 = rectLeft;
				var _g4 = rectRight;
				while(_g3 < _g4) {
					var dx = _g3++;
					var c = pixelImage1.image[pixelImage1.useVirtualPos ? (dy - pixelImage1.virtualY) * pixelImage1.width + dx - pixelImage1.virtualX | 0 : dy * pixelImage1.width + dx | 0];
					var col = pixelimage_Endian_isLittleEndian ? (c >> 24 & 255) << 24 | (c & 255) << 16 | (c >> 8 & 255) << 8 | c >> 16 & 255 : c;
					if(pixelImage1.useMask && pixelImage1.mask != null) {
						var this1 = pixelImage1.mask;
						var c1 = this1.image[this1.useVirtualPos ? (dy - this1.virtualY) * this1.width + dx - this1.virtualX | 0 : dy * this1.width + dx | 0];
						var this2 = pixelimage_Endian_isLittleEndian ? (c1 >> 24 & 255) << 24 | (c1 & 255) << 16 | (c1 >> 8 & 255) << 8 | c1 >> 16 & 255 : c1;
						var maskPixel = this2;
						var this3 = col;
						var this4 = this3;
						if(maskPixel == 0) {
							var this5 = this4;
							col = this5;
						} else {
							var this6 = maskPixel >> 24 & 255;
							var m0 = this6 == 0 ? 0. : this6 / 255;
							var this7 = maskPixel >> 16 & 255;
							var m1 = this7 == 0 ? 0. : this7 / 255;
							var this8 = maskPixel >> 8 & 255;
							var m2 = this8 == 0 ? 0. : this8 / 255;
							var this9 = maskPixel & 255;
							var m3 = this9 == 0 ? 0. : this9 / 255;
							var ch0 = (1. - m0) * (this4 >> 24 & 255) | 0;
							var ch1 = (1. - m1) * (this4 >> 16 & 255) | 0;
							var ch2 = (1. - m2) * (this4 >> 8 & 255) | 0;
							var ch3 = (1. - m3) * (this4 & 255) | 0;
							col = Math.round(ch0 * 255) << 24 | Math.round(ch1 * 255) << 16 | Math.round(ch2 * 255) << 8 | Math.round(ch3 * 255);
						}
					}
					if(col != 0) {
						var x1 = x + dx - rectLeft;
						var y1 = y + dy - rectTop;
						var this10 = col;
						var c2 = this10;
						if((c2 >> 24 & 255) < 254 && pixelImage.transparent) {
							var location = pixelImage.useVirtualPos ? (y1 - pixelImage.virtualY) * pixelImage.width + x1 - pixelImage.virtualX | 0 : y1 * pixelImage.width + x1 | 0;
							var this11 = pixelImage.image[location];
							var this12 = this11;
							var this13 = pixelimage_Endian_isLittleEndian ? (this12 >> 24 & 255) << 24 | (this12 & 255) << 16 | (this12 >> 8 & 255) << 8 | this12 >> 16 & 255 : this12;
							var this14 = this13 >> 24 & 255;
							var a1 = this14 == 0 ? 0. : this14 / 255;
							var this15 = this13 >> 16 & 255;
							var r1 = this15 == 0 ? 0. : this15 / 255;
							var this16 = this13 >> 8 & 255;
							var g1 = this16 == 0 ? 0. : this16 / 255;
							var this17 = this13 & 255;
							var b1 = this17 == 0 ? 0. : this17 / 255;
							var this18 = col >> 24 & 255;
							var a2 = this18 == 0 ? 0. : this18 / 255;
							var this19 = col >> 16 & 255;
							var r2 = this19 == 0 ? 0. : this19 / 255;
							var this20 = col >> 8 & 255;
							var g2 = this20 == 0 ? 0. : this20 / 255;
							var this21 = col & 255;
							var b2 = this21 == 0 ? 0. : this21 / 255;
							var a3 = a1 * (1 - a2);
							var r = 255 * (r1 * a3 + r2 * a2) | 0;
							var g = 255 * (g1 * a3 + g2 * a2) | 0;
							var b = 255 * (b1 * a3 + b2 * a2) | 0;
							var a = 255 * (a3 + a2) | 0;
							var blended = a << 24 | r << 16 | g << 8 | b;
							pixelImage.image[location] = pixelimage_Endian_isLittleEndian ? (blended >> 24 & 255) << 24 | (blended & 255) << 16 | (blended >> 8 & 255) << 8 | blended >> 16 & 255 : blended;
						} else {
							pixelImage.image[pixelImage.useVirtualPos ? (y1 - pixelImage.virtualY) * pixelImage.width + x1 - pixelImage.virtualX | 0 : y1 * pixelImage.width + x1 | 0] = pixelimage_Endian_isLittleEndian ? (c2 >> 24 & 255) << 24 | (c2 & 255) << 16 | (c2 >> 8 & 255) << 8 | c2 >> 16 & 255 : c2;
						}
					}
				}
			}
		}
		var helloPixel = pixelImage;
		var scaleW = 10;
		var scaleH = 12;
		if(scaleH == null) {
			scaleH = 2;
		}
		if(scaleW == null) {
			scaleW = 2;
		}
		var p = 0;
		var xx = p;
		var q = 0;
		var wNew = helloPixel.width * scaleW | 0;
		var hNew = helloPixel.height * scaleH | 0;
		var this1 = new Uint32Array(wNew * hNew | 0);
		var this2 = new pixelimage_ImageStruct(wNew,hNew,this1);
		var pixelImage = this2;
		var maxX = wNew;
		var maxY = hNew;
		while(true) {
			var x = p / scaleW | 0;
			var y = q / scaleH | 0;
			var c = helloPixel.image[helloPixel.useVirtualPos ? (y - helloPixel.virtualY) * helloPixel.width + x - helloPixel.virtualX | 0 : y * helloPixel.width + x | 0];
			var color = pixelimage_Endian_isLittleEndian ? (c >> 24 & 255) << 24 | (c & 255) << 16 | (c >> 8 & 255) << 8 | c >> 16 & 255 : c;
			var x1 = p++;
			var this1 = color;
			var c1 = this1;
			if((c1 >> 24 & 255) < 254 && pixelImage.transparent) {
				var location = pixelImage.useVirtualPos ? (q - pixelImage.virtualY) * pixelImage.width + x1 - pixelImage.virtualX | 0 : q * pixelImage.width + x1 | 0;
				var this2 = pixelImage.image[location];
				var this3 = this2;
				var this4 = pixelimage_Endian_isLittleEndian ? (this3 >> 24 & 255) << 24 | (this3 & 255) << 16 | (this3 >> 8 & 255) << 8 | this3 >> 16 & 255 : this3;
				var this5 = this4 >> 24 & 255;
				var a1 = this5 == 0 ? 0. : this5 / 255;
				var this6 = this4 >> 16 & 255;
				var r1 = this6 == 0 ? 0. : this6 / 255;
				var this7 = this4 >> 8 & 255;
				var g1 = this7 == 0 ? 0. : this7 / 255;
				var this8 = this4 & 255;
				var b1 = this8 == 0 ? 0. : this8 / 255;
				var this9 = color >> 24 & 255;
				var a2 = this9 == 0 ? 0. : this9 / 255;
				var this10 = color >> 16 & 255;
				var r2 = this10 == 0 ? 0. : this10 / 255;
				var this11 = color >> 8 & 255;
				var g2 = this11 == 0 ? 0. : this11 / 255;
				var this12 = color & 255;
				var b2 = this12 == 0 ? 0. : this12 / 255;
				var a3 = a1 * (1 - a2);
				var r = 255 * (r1 * a3 + r2 * a2) | 0;
				var g = 255 * (g1 * a3 + g2 * a2) | 0;
				var b = 255 * (b1 * a3 + b2 * a2) | 0;
				var a = 255 * (a3 + a2) | 0;
				var blended = a << 24 | r << 16 | g << 8 | b;
				pixelImage.image[location] = pixelimage_Endian_isLittleEndian ? (blended >> 24 & 255) << 24 | (blended & 255) << 16 | (blended >> 8 & 255) << 8 | blended >> 16 & 255 : blended;
			} else {
				pixelImage.image[pixelImage.useVirtualPos ? (q - pixelImage.virtualY) * pixelImage.width + x1 - pixelImage.virtualX | 0 : q * pixelImage.width + x1 | 0] = pixelimage_Endian_isLittleEndian ? (c1 >> 24 & 255) << 24 | (c1 & 255) << 16 | (c1 >> 8 & 255) << 8 | c1 >> 16 & 255 : c1;
			}
			if(p > maxX) {
				p = xx;
				++q;
			}
			if(q > maxY) {
				break;
			}
		}
		if(helloPixel.mask != null && false) {
			var this1 = helloPixel.mask;
			var scaleW1 = scaleW;
			var scaleH1 = scaleH;
			var transparent = helloPixel.mask.transparent;
			var includeMask = false;
			if(includeMask == null) {
				includeMask = false;
			}
			if(scaleH1 == null) {
				scaleH1 = 2;
			}
			if(scaleW1 == null) {
				scaleW1 = 2;
			}
			var p = 0;
			var xx = p;
			var q = 0;
			var wNew = this1.width * scaleW1 | 0;
			var hNew = this1.height * scaleH1 | 0;
			var this2 = new Uint32Array(wNew * hNew | 0);
			var this3 = new pixelimage_ImageStruct(wNew,hNew,this2);
			var pixelImage1 = this3;
			var maxX = wNew;
			var maxY = hNew;
			while(true) {
				var x = p / scaleW1 | 0;
				var y = q / scaleH1 | 0;
				var c = this1.image[this1.useVirtualPos ? (y - this1.virtualY) * this1.width + x - this1.virtualX | 0 : y * this1.width + x | 0];
				var color = pixelimage_Endian_isLittleEndian ? (c >> 24 & 255) << 24 | (c & 255) << 16 | (c >> 8 & 255) << 8 | c >> 16 & 255 : c;
				var x1 = p++;
				var this2 = color;
				var c1 = this2;
				if((c1 >> 24 & 255) < 254 && pixelImage1.transparent) {
					var location = pixelImage1.useVirtualPos ? (q - pixelImage1.virtualY) * pixelImage1.width + x1 - pixelImage1.virtualX | 0 : q * pixelImage1.width + x1 | 0;
					var this3 = pixelImage1.image[location];
					var this4 = this3;
					var this5 = pixelimage_Endian_isLittleEndian ? (this4 >> 24 & 255) << 24 | (this4 & 255) << 16 | (this4 >> 8 & 255) << 8 | this4 >> 16 & 255 : this4;
					var this6 = this5 >> 24 & 255;
					var a1 = this6 == 0 ? 0. : this6 / 255;
					var this7 = this5 >> 16 & 255;
					var r1 = this7 == 0 ? 0. : this7 / 255;
					var this8 = this5 >> 8 & 255;
					var g1 = this8 == 0 ? 0. : this8 / 255;
					var this9 = this5 & 255;
					var b1 = this9 == 0 ? 0. : this9 / 255;
					var this10 = color >> 24 & 255;
					var a2 = this10 == 0 ? 0. : this10 / 255;
					var this11 = color >> 16 & 255;
					var r2 = this11 == 0 ? 0. : this11 / 255;
					var this12 = color >> 8 & 255;
					var g2 = this12 == 0 ? 0. : this12 / 255;
					var this13 = color & 255;
					var b2 = this13 == 0 ? 0. : this13 / 255;
					var a3 = a1 * (1 - a2);
					var r = 255 * (r1 * a3 + r2 * a2) | 0;
					var g = 255 * (g1 * a3 + g2 * a2) | 0;
					var b = 255 * (b1 * a3 + b2 * a2) | 0;
					var a = 255 * (a3 + a2) | 0;
					var blended = a << 24 | r << 16 | g << 8 | b;
					pixelImage1.image[location] = pixelimage_Endian_isLittleEndian ? (blended >> 24 & 255) << 24 | (blended & 255) << 16 | (blended >> 8 & 255) << 8 | blended >> 16 & 255 : blended;
				} else {
					pixelImage1.image[pixelImage1.useVirtualPos ? (q - pixelImage1.virtualY) * pixelImage1.width + x1 - pixelImage1.virtualX | 0 : q * pixelImage1.width + x1 | 0] = pixelimage_Endian_isLittleEndian ? (c1 >> 24 & 255) << 24 | (c1 & 255) << 16 | (c1 >> 8 & 255) << 8 | c1 >> 16 & 255 : c1;
				}
				if(p > maxX) {
					p = xx;
					++q;
				}
				if(q > maxY) {
					break;
				}
			}
			if(this1.mask != null && includeMask) {
				var v = pixelimage_Pixelimage.scaleUpInt(this1.mask,scaleW1,scaleH1,this1.mask.transparent,includeMask);
				pixelImage1.useMask = true;
				pixelImage1.mask = v;
			}
			var v = pixelImage1;
			pixelImage.useMask = true;
			pixelImage.mask = v;
		}
		var scaled = pixelImage;
		var angle = 3;
		var centreX = 0;
		var centreY = 0;
		var transparent = true;
		if(transparent == null) {
			transparent = false;
		}
		if(centreY == null) {
			centreY = 0.;
		}
		if(centreX == null) {
			centreX = 0.;
		}
		while(angle >= 360) angle -= 360;
		while(angle <= -360) angle += 360;
		var rotated;
		if(angle == 90. || angle == -270) {
			var w = scaled.width;
			var h = scaled.height;
			var transparent1 = transparent;
			var includeMask = false;
			if(includeMask == null) {
				includeMask = false;
			}
			if(transparent1 == null) {
				transparent1 = false;
			}
			var p = 0;
			var xx = p;
			var q = 0;
			var maxX = w | 0;
			var maxY = h | 0;
			var w1 = h | 0;
			var h1 = w | 0;
			var this1 = new Uint32Array(w1 * h1 | 0);
			var this2 = new pixelimage_ImageStruct(w1,h1,this1);
			var pixelImage = this2;
			pixelImage.transparent = transparent1;
			var color = 0;
			while(true) {
				var c = scaled.image[scaled.useVirtualPos ? (q - scaled.virtualY) * scaled.width + p - scaled.virtualX | 0 : q * scaled.width + p | 0];
				color = pixelimage_Endian_isLittleEndian ? (c >> 24 & 255) << 24 | (c & 255) << 16 | (c >> 8 & 255) << 8 | c >> 16 & 255 : c;
				var x = maxY - q;
				var this1 = color;
				var c1 = this1;
				if((c1 >> 24 & 255) < 254 && pixelImage.transparent) {
					var location = pixelImage.useVirtualPos ? (p - pixelImage.virtualY) * pixelImage.width + x - pixelImage.virtualX | 0 : p * pixelImage.width + x | 0;
					var this2 = pixelImage.image[location];
					var this3 = this2;
					var this4 = pixelimage_Endian_isLittleEndian ? (this3 >> 24 & 255) << 24 | (this3 & 255) << 16 | (this3 >> 8 & 255) << 8 | this3 >> 16 & 255 : this3;
					var this5 = this4 >> 24 & 255;
					var a1 = this5 == 0 ? 0. : this5 / 255;
					var this6 = this4 >> 16 & 255;
					var r1 = this6 == 0 ? 0. : this6 / 255;
					var this7 = this4 >> 8 & 255;
					var g1 = this7 == 0 ? 0. : this7 / 255;
					var this8 = this4 & 255;
					var b1 = this8 == 0 ? 0. : this8 / 255;
					var this9 = color >> 24 & 255;
					var a2 = this9 == 0 ? 0. : this9 / 255;
					var this10 = color >> 16 & 255;
					var r2 = this10 == 0 ? 0. : this10 / 255;
					var this11 = color >> 8 & 255;
					var g2 = this11 == 0 ? 0. : this11 / 255;
					var this12 = color & 255;
					var b2 = this12 == 0 ? 0. : this12 / 255;
					var a3 = a1 * (1 - a2);
					var r = 255 * (r1 * a3 + r2 * a2) | 0;
					var g = 255 * (g1 * a3 + g2 * a2) | 0;
					var b = 255 * (b1 * a3 + b2 * a2) | 0;
					var a = 255 * (a3 + a2) | 0;
					var blended = a << 24 | r << 16 | g << 8 | b;
					pixelImage.image[location] = pixelimage_Endian_isLittleEndian ? (blended >> 24 & 255) << 24 | (blended & 255) << 16 | (blended >> 8 & 255) << 8 | blended >> 16 & 255 : blended;
				} else {
					pixelImage.image[pixelImage.useVirtualPos ? (p - pixelImage.virtualY) * pixelImage.width + x - pixelImage.virtualX | 0 : p * pixelImage.width + x | 0] = pixelimage_Endian_isLittleEndian ? (c1 >> 24 & 255) << 24 | (c1 & 255) << 16 | (c1 >> 8 & 255) << 8 | c1 >> 16 & 255 : c1;
				}
				++p;
				if(p > maxX) {
					p = xx;
					++q;
				}
				if(q > maxY) {
					break;
				}
			}
			if(scaled.mask != null && includeMask) {
				var this1 = scaled.mask;
				var transparent1 = scaled.mask.transparent;
				var includeMask1 = includeMask;
				if(includeMask1 == null) {
					includeMask1 = false;
				}
				if(transparent1 == null) {
					transparent1 = false;
				}
				var p = 0;
				var xx = p;
				var q = 0;
				var maxX = w | 0;
				var maxY = h | 0;
				var w1 = w | 0;
				var h1 = h | 0;
				var this2 = new Uint32Array(w1 * h1 | 0);
				var this3 = new pixelimage_ImageStruct(w1,h1,this2);
				var pixelImage1 = this3;
				pixelImage1.transparent = transparent1;
				var color = 0;
				while(true) {
					var c = this1.image[this1.useVirtualPos ? (q - this1.virtualY) * this1.width + p - this1.virtualX | 0 : q * this1.width + p | 0];
					color = pixelimage_Endian_isLittleEndian ? (c >> 24 & 255) << 24 | (c & 255) << 16 | (c >> 8 & 255) << 8 | c >> 16 & 255 : c;
					var x = maxX - p;
					var y = maxY - q;
					var this2 = color;
					var c1 = this2;
					if((c1 >> 24 & 255) < 254 && pixelImage1.transparent) {
						var location = pixelImage1.useVirtualPos ? (y - pixelImage1.virtualY) * pixelImage1.width + x - pixelImage1.virtualX | 0 : y * pixelImage1.width + x | 0;
						var this3 = pixelImage1.image[location];
						var this4 = this3;
						var this5 = pixelimage_Endian_isLittleEndian ? (this4 >> 24 & 255) << 24 | (this4 & 255) << 16 | (this4 >> 8 & 255) << 8 | this4 >> 16 & 255 : this4;
						var this6 = this5 >> 24 & 255;
						var a1 = this6 == 0 ? 0. : this6 / 255;
						var this7 = this5 >> 16 & 255;
						var r1 = this7 == 0 ? 0. : this7 / 255;
						var this8 = this5 >> 8 & 255;
						var g1 = this8 == 0 ? 0. : this8 / 255;
						var this9 = this5 & 255;
						var b1 = this9 == 0 ? 0. : this9 / 255;
						var this10 = color >> 24 & 255;
						var a2 = this10 == 0 ? 0. : this10 / 255;
						var this11 = color >> 16 & 255;
						var r2 = this11 == 0 ? 0. : this11 / 255;
						var this12 = color >> 8 & 255;
						var g2 = this12 == 0 ? 0. : this12 / 255;
						var this13 = color & 255;
						var b2 = this13 == 0 ? 0. : this13 / 255;
						var a3 = a1 * (1 - a2);
						var r = 255 * (r1 * a3 + r2 * a2) | 0;
						var g = 255 * (g1 * a3 + g2 * a2) | 0;
						var b = 255 * (b1 * a3 + b2 * a2) | 0;
						var a = 255 * (a3 + a2) | 0;
						var blended = a << 24 | r << 16 | g << 8 | b;
						pixelImage1.image[location] = pixelimage_Endian_isLittleEndian ? (blended >> 24 & 255) << 24 | (blended & 255) << 16 | (blended >> 8 & 255) << 8 | blended >> 16 & 255 : blended;
					} else {
						pixelImage1.image[pixelImage1.useVirtualPos ? (y - pixelImage1.virtualY) * pixelImage1.width + x - pixelImage1.virtualX | 0 : y * pixelImage1.width + x | 0] = pixelimage_Endian_isLittleEndian ? (c1 >> 24 & 255) << 24 | (c1 & 255) << 16 | (c1 >> 8 & 255) << 8 | c1 >> 16 & 255 : c1;
					}
					++p;
					if(p > maxX) {
						p = xx;
						++q;
					}
					if(q > maxY) {
						break;
					}
				}
				if(this1.mask != null && includeMask1) {
					var this2 = this1.mask;
					var transparent1 = this1.mask.transparent;
					var includeMask = includeMask1;
					if(includeMask == null) {
						includeMask = false;
					}
					if(transparent1 == null) {
						transparent1 = false;
					}
					var p = 0;
					var xx = p;
					var q = 0;
					var maxX = w | 0;
					var maxY = h | 0;
					var w1 = w | 0;
					var h1 = h | 0;
					var this1 = new Uint32Array(w1 * h1 | 0);
					var this3 = new pixelimage_ImageStruct(w1,h1,this1);
					var pixelImage2 = this3;
					pixelImage2.transparent = transparent1;
					var color = 0;
					while(true) {
						var c = this2.image[this2.useVirtualPos ? (q - this2.virtualY) * this2.width + p - this2.virtualX | 0 : q * this2.width + p | 0];
						color = pixelimage_Endian_isLittleEndian ? (c >> 24 & 255) << 24 | (c & 255) << 16 | (c >> 8 & 255) << 8 | c >> 16 & 255 : c;
						var x = maxX - p;
						var y = maxY - q;
						var this1 = color;
						var c1 = this1;
						if((c1 >> 24 & 255) < 254 && pixelImage2.transparent) {
							var location = pixelImage2.useVirtualPos ? (y - pixelImage2.virtualY) * pixelImage2.width + x - pixelImage2.virtualX | 0 : y * pixelImage2.width + x | 0;
							var this3 = pixelImage2.image[location];
							var this4 = this3;
							var this5 = pixelimage_Endian_isLittleEndian ? (this4 >> 24 & 255) << 24 | (this4 & 255) << 16 | (this4 >> 8 & 255) << 8 | this4 >> 16 & 255 : this4;
							var this6 = this5 >> 24 & 255;
							var a1 = this6 == 0 ? 0. : this6 / 255;
							var this7 = this5 >> 16 & 255;
							var r1 = this7 == 0 ? 0. : this7 / 255;
							var this8 = this5 >> 8 & 255;
							var g1 = this8 == 0 ? 0. : this8 / 255;
							var this9 = this5 & 255;
							var b1 = this9 == 0 ? 0. : this9 / 255;
							var this10 = color >> 24 & 255;
							var a2 = this10 == 0 ? 0. : this10 / 255;
							var this11 = color >> 16 & 255;
							var r2 = this11 == 0 ? 0. : this11 / 255;
							var this12 = color >> 8 & 255;
							var g2 = this12 == 0 ? 0. : this12 / 255;
							var this13 = color & 255;
							var b2 = this13 == 0 ? 0. : this13 / 255;
							var a3 = a1 * (1 - a2);
							var r = 255 * (r1 * a3 + r2 * a2) | 0;
							var g = 255 * (g1 * a3 + g2 * a2) | 0;
							var b = 255 * (b1 * a3 + b2 * a2) | 0;
							var a = 255 * (a3 + a2) | 0;
							var blended = a << 24 | r << 16 | g << 8 | b;
							pixelImage2.image[location] = pixelimage_Endian_isLittleEndian ? (blended >> 24 & 255) << 24 | (blended & 255) << 16 | (blended >> 8 & 255) << 8 | blended >> 16 & 255 : blended;
						} else {
							pixelImage2.image[pixelImage2.useVirtualPos ? (y - pixelImage2.virtualY) * pixelImage2.width + x - pixelImage2.virtualX | 0 : y * pixelImage2.width + x | 0] = pixelimage_Endian_isLittleEndian ? (c1 >> 24 & 255) << 24 | (c1 & 255) << 16 | (c1 >> 8 & 255) << 8 | c1 >> 16 & 255 : c1;
						}
						++p;
						if(p > maxX) {
							p = xx;
							++q;
						}
						if(q > maxY) {
							break;
						}
					}
					if(this2.mask != null && includeMask) {
						var this1 = this2.mask;
						var transparent1 = this2.mask.transparent;
						var includeMask1 = includeMask;
						if(includeMask1 == null) {
							includeMask1 = false;
						}
						if(transparent1 == null) {
							transparent1 = false;
						}
						var p = 0;
						var xx = p;
						var q = 0;
						var maxX = w | 0;
						var maxY = h | 0;
						var w1 = w | 0;
						var h1 = h | 0;
						var this2 = new Uint32Array(w1 * h1 | 0);
						var this3 = new pixelimage_ImageStruct(w1,h1,this2);
						var pixelImage3 = this3;
						pixelImage3.transparent = transparent1;
						var color = 0;
						while(true) {
							var c = this1.image[this1.useVirtualPos ? (q - this1.virtualY) * this1.width + p - this1.virtualX | 0 : q * this1.width + p | 0];
							color = pixelimage_Endian_isLittleEndian ? (c >> 24 & 255) << 24 | (c & 255) << 16 | (c >> 8 & 255) << 8 | c >> 16 & 255 : c;
							var x = maxX - p;
							var y = maxY - q;
							var this2 = color;
							var c1 = this2;
							if((c1 >> 24 & 255) < 254 && pixelImage3.transparent) {
								var location = pixelImage3.useVirtualPos ? (y - pixelImage3.virtualY) * pixelImage3.width + x - pixelImage3.virtualX | 0 : y * pixelImage3.width + x | 0;
								var this3 = pixelImage3.image[location];
								var this4 = this3;
								var this5 = pixelimage_Endian_isLittleEndian ? (this4 >> 24 & 255) << 24 | (this4 & 255) << 16 | (this4 >> 8 & 255) << 8 | this4 >> 16 & 255 : this4;
								var this6 = this5 >> 24 & 255;
								var a1 = this6 == 0 ? 0. : this6 / 255;
								var this7 = this5 >> 16 & 255;
								var r1 = this7 == 0 ? 0. : this7 / 255;
								var this8 = this5 >> 8 & 255;
								var g1 = this8 == 0 ? 0. : this8 / 255;
								var this9 = this5 & 255;
								var b1 = this9 == 0 ? 0. : this9 / 255;
								var this10 = color >> 24 & 255;
								var a2 = this10 == 0 ? 0. : this10 / 255;
								var this11 = color >> 16 & 255;
								var r2 = this11 == 0 ? 0. : this11 / 255;
								var this12 = color >> 8 & 255;
								var g2 = this12 == 0 ? 0. : this12 / 255;
								var this13 = color & 255;
								var b2 = this13 == 0 ? 0. : this13 / 255;
								var a3 = a1 * (1 - a2);
								var r = 255 * (r1 * a3 + r2 * a2) | 0;
								var g = 255 * (g1 * a3 + g2 * a2) | 0;
								var b = 255 * (b1 * a3 + b2 * a2) | 0;
								var a = 255 * (a3 + a2) | 0;
								var blended = a << 24 | r << 16 | g << 8 | b;
								pixelImage3.image[location] = pixelimage_Endian_isLittleEndian ? (blended >> 24 & 255) << 24 | (blended & 255) << 16 | (blended >> 8 & 255) << 8 | blended >> 16 & 255 : blended;
							} else {
								pixelImage3.image[pixelImage3.useVirtualPos ? (y - pixelImage3.virtualY) * pixelImage3.width + x - pixelImage3.virtualX | 0 : y * pixelImage3.width + x | 0] = pixelimage_Endian_isLittleEndian ? (c1 >> 24 & 255) << 24 | (c1 & 255) << 16 | (c1 >> 8 & 255) << 8 | c1 >> 16 & 255 : c1;
							}
							++p;
							if(p > maxX) {
								p = xx;
								++q;
							}
							if(q > maxY) {
								break;
							}
						}
						if(this1.mask != null && includeMask1) {
							var v = pixelimage_Pixelimage.spun180(this1.mask,0,0,w,h,this1.mask.transparent,includeMask1);
							pixelImage3.useMask = true;
							pixelImage3.mask = v;
						}
						var v = pixelImage3;
						pixelImage2.useMask = true;
						pixelImage2.mask = v;
					}
					var v = pixelImage2;
					pixelImage1.useMask = true;
					pixelImage1.mask = v;
				}
				var v = pixelImage1;
				pixelImage.useMask = true;
				pixelImage.mask = v;
			}
			rotated = pixelImage;
		} else if(angle == -90 || angle == 270) {
			var w = scaled.width;
			var h = scaled.height;
			var transparent1 = transparent;
			var includeMask = false;
			if(includeMask == null) {
				includeMask = false;
			}
			if(transparent1 == null) {
				transparent1 = false;
			}
			var p = 0;
			var xx = p;
			var q = 0;
			var maxX = w | 0;
			var maxY = h | 0;
			var w1 = h | 0;
			var h1 = w | 0;
			var this1 = new Uint32Array(w1 * h1 | 0);
			var this2 = new pixelimage_ImageStruct(w1,h1,this1);
			var pixelImage = this2;
			pixelImage.transparent = transparent1;
			var color = 0;
			while(true) {
				var c = scaled.image[scaled.useVirtualPos ? (q - scaled.virtualY) * scaled.width + p - scaled.virtualX | 0 : q * scaled.width + p | 0];
				color = pixelimage_Endian_isLittleEndian ? (c >> 24 & 255) << 24 | (c & 255) << 16 | (c >> 8 & 255) << 8 | c >> 16 & 255 : c;
				var y = maxX - p;
				var this1 = color;
				var c1 = this1;
				if((c1 >> 24 & 255) < 254 && pixelImage.transparent) {
					var location = pixelImage.useVirtualPos ? (y - pixelImage.virtualY) * pixelImage.width + q - pixelImage.virtualX | 0 : y * pixelImage.width + q | 0;
					var this2 = pixelImage.image[location];
					var this3 = this2;
					var this4 = pixelimage_Endian_isLittleEndian ? (this3 >> 24 & 255) << 24 | (this3 & 255) << 16 | (this3 >> 8 & 255) << 8 | this3 >> 16 & 255 : this3;
					var this5 = this4 >> 24 & 255;
					var a1 = this5 == 0 ? 0. : this5 / 255;
					var this6 = this4 >> 16 & 255;
					var r1 = this6 == 0 ? 0. : this6 / 255;
					var this7 = this4 >> 8 & 255;
					var g1 = this7 == 0 ? 0. : this7 / 255;
					var this8 = this4 & 255;
					var b1 = this8 == 0 ? 0. : this8 / 255;
					var this9 = color >> 24 & 255;
					var a2 = this9 == 0 ? 0. : this9 / 255;
					var this10 = color >> 16 & 255;
					var r2 = this10 == 0 ? 0. : this10 / 255;
					var this11 = color >> 8 & 255;
					var g2 = this11 == 0 ? 0. : this11 / 255;
					var this12 = color & 255;
					var b2 = this12 == 0 ? 0. : this12 / 255;
					var a3 = a1 * (1 - a2);
					var r = 255 * (r1 * a3 + r2 * a2) | 0;
					var g = 255 * (g1 * a3 + g2 * a2) | 0;
					var b = 255 * (b1 * a3 + b2 * a2) | 0;
					var a = 255 * (a3 + a2) | 0;
					var blended = a << 24 | r << 16 | g << 8 | b;
					pixelImage.image[location] = pixelimage_Endian_isLittleEndian ? (blended >> 24 & 255) << 24 | (blended & 255) << 16 | (blended >> 8 & 255) << 8 | blended >> 16 & 255 : blended;
				} else {
					pixelImage.image[pixelImage.useVirtualPos ? (y - pixelImage.virtualY) * pixelImage.width + q - pixelImage.virtualX | 0 : y * pixelImage.width + q | 0] = pixelimage_Endian_isLittleEndian ? (c1 >> 24 & 255) << 24 | (c1 & 255) << 16 | (c1 >> 8 & 255) << 8 | c1 >> 16 & 255 : c1;
				}
				++p;
				if(p > maxX) {
					p = xx;
					++q;
				}
				if(q > maxY) {
					break;
				}
			}
			if(scaled.mask != null && includeMask) {
				var this1 = scaled.mask;
				var transparent1 = scaled.mask.transparent;
				var includeMask1 = includeMask;
				if(includeMask1 == null) {
					includeMask1 = false;
				}
				if(transparent1 == null) {
					transparent1 = false;
				}
				var p = 0;
				var xx = p;
				var q = 0;
				var maxX = w | 0;
				var maxY = h | 0;
				var w1 = w | 0;
				var h1 = h | 0;
				var this2 = new Uint32Array(w1 * h1 | 0);
				var this3 = new pixelimage_ImageStruct(w1,h1,this2);
				var pixelImage1 = this3;
				pixelImage1.transparent = transparent1;
				var color = 0;
				while(true) {
					var c = this1.image[this1.useVirtualPos ? (q - this1.virtualY) * this1.width + p - this1.virtualX | 0 : q * this1.width + p | 0];
					color = pixelimage_Endian_isLittleEndian ? (c >> 24 & 255) << 24 | (c & 255) << 16 | (c >> 8 & 255) << 8 | c >> 16 & 255 : c;
					var x = maxX - p;
					var y = maxY - q;
					var this2 = color;
					var c1 = this2;
					if((c1 >> 24 & 255) < 254 && pixelImage1.transparent) {
						var location = pixelImage1.useVirtualPos ? (y - pixelImage1.virtualY) * pixelImage1.width + x - pixelImage1.virtualX | 0 : y * pixelImage1.width + x | 0;
						var this3 = pixelImage1.image[location];
						var this4 = this3;
						var this5 = pixelimage_Endian_isLittleEndian ? (this4 >> 24 & 255) << 24 | (this4 & 255) << 16 | (this4 >> 8 & 255) << 8 | this4 >> 16 & 255 : this4;
						var this6 = this5 >> 24 & 255;
						var a1 = this6 == 0 ? 0. : this6 / 255;
						var this7 = this5 >> 16 & 255;
						var r1 = this7 == 0 ? 0. : this7 / 255;
						var this8 = this5 >> 8 & 255;
						var g1 = this8 == 0 ? 0. : this8 / 255;
						var this9 = this5 & 255;
						var b1 = this9 == 0 ? 0. : this9 / 255;
						var this10 = color >> 24 & 255;
						var a2 = this10 == 0 ? 0. : this10 / 255;
						var this11 = color >> 16 & 255;
						var r2 = this11 == 0 ? 0. : this11 / 255;
						var this12 = color >> 8 & 255;
						var g2 = this12 == 0 ? 0. : this12 / 255;
						var this13 = color & 255;
						var b2 = this13 == 0 ? 0. : this13 / 255;
						var a3 = a1 * (1 - a2);
						var r = 255 * (r1 * a3 + r2 * a2) | 0;
						var g = 255 * (g1 * a3 + g2 * a2) | 0;
						var b = 255 * (b1 * a3 + b2 * a2) | 0;
						var a = 255 * (a3 + a2) | 0;
						var blended = a << 24 | r << 16 | g << 8 | b;
						pixelImage1.image[location] = pixelimage_Endian_isLittleEndian ? (blended >> 24 & 255) << 24 | (blended & 255) << 16 | (blended >> 8 & 255) << 8 | blended >> 16 & 255 : blended;
					} else {
						pixelImage1.image[pixelImage1.useVirtualPos ? (y - pixelImage1.virtualY) * pixelImage1.width + x - pixelImage1.virtualX | 0 : y * pixelImage1.width + x | 0] = pixelimage_Endian_isLittleEndian ? (c1 >> 24 & 255) << 24 | (c1 & 255) << 16 | (c1 >> 8 & 255) << 8 | c1 >> 16 & 255 : c1;
					}
					++p;
					if(p > maxX) {
						p = xx;
						++q;
					}
					if(q > maxY) {
						break;
					}
				}
				if(this1.mask != null && includeMask1) {
					var this2 = this1.mask;
					var transparent1 = this1.mask.transparent;
					var includeMask = includeMask1;
					if(includeMask == null) {
						includeMask = false;
					}
					if(transparent1 == null) {
						transparent1 = false;
					}
					var p = 0;
					var xx = p;
					var q = 0;
					var maxX = w | 0;
					var maxY = h | 0;
					var w1 = w | 0;
					var h1 = h | 0;
					var this1 = new Uint32Array(w1 * h1 | 0);
					var this3 = new pixelimage_ImageStruct(w1,h1,this1);
					var pixelImage2 = this3;
					pixelImage2.transparent = transparent1;
					var color = 0;
					while(true) {
						var c = this2.image[this2.useVirtualPos ? (q - this2.virtualY) * this2.width + p - this2.virtualX | 0 : q * this2.width + p | 0];
						color = pixelimage_Endian_isLittleEndian ? (c >> 24 & 255) << 24 | (c & 255) << 16 | (c >> 8 & 255) << 8 | c >> 16 & 255 : c;
						var x = maxX - p;
						var y = maxY - q;
						var this1 = color;
						var c1 = this1;
						if((c1 >> 24 & 255) < 254 && pixelImage2.transparent) {
							var location = pixelImage2.useVirtualPos ? (y - pixelImage2.virtualY) * pixelImage2.width + x - pixelImage2.virtualX | 0 : y * pixelImage2.width + x | 0;
							var this3 = pixelImage2.image[location];
							var this4 = this3;
							var this5 = pixelimage_Endian_isLittleEndian ? (this4 >> 24 & 255) << 24 | (this4 & 255) << 16 | (this4 >> 8 & 255) << 8 | this4 >> 16 & 255 : this4;
							var this6 = this5 >> 24 & 255;
							var a1 = this6 == 0 ? 0. : this6 / 255;
							var this7 = this5 >> 16 & 255;
							var r1 = this7 == 0 ? 0. : this7 / 255;
							var this8 = this5 >> 8 & 255;
							var g1 = this8 == 0 ? 0. : this8 / 255;
							var this9 = this5 & 255;
							var b1 = this9 == 0 ? 0. : this9 / 255;
							var this10 = color >> 24 & 255;
							var a2 = this10 == 0 ? 0. : this10 / 255;
							var this11 = color >> 16 & 255;
							var r2 = this11 == 0 ? 0. : this11 / 255;
							var this12 = color >> 8 & 255;
							var g2 = this12 == 0 ? 0. : this12 / 255;
							var this13 = color & 255;
							var b2 = this13 == 0 ? 0. : this13 / 255;
							var a3 = a1 * (1 - a2);
							var r = 255 * (r1 * a3 + r2 * a2) | 0;
							var g = 255 * (g1 * a3 + g2 * a2) | 0;
							var b = 255 * (b1 * a3 + b2 * a2) | 0;
							var a = 255 * (a3 + a2) | 0;
							var blended = a << 24 | r << 16 | g << 8 | b;
							pixelImage2.image[location] = pixelimage_Endian_isLittleEndian ? (blended >> 24 & 255) << 24 | (blended & 255) << 16 | (blended >> 8 & 255) << 8 | blended >> 16 & 255 : blended;
						} else {
							pixelImage2.image[pixelImage2.useVirtualPos ? (y - pixelImage2.virtualY) * pixelImage2.width + x - pixelImage2.virtualX | 0 : y * pixelImage2.width + x | 0] = pixelimage_Endian_isLittleEndian ? (c1 >> 24 & 255) << 24 | (c1 & 255) << 16 | (c1 >> 8 & 255) << 8 | c1 >> 16 & 255 : c1;
						}
						++p;
						if(p > maxX) {
							p = xx;
							++q;
						}
						if(q > maxY) {
							break;
						}
					}
					if(this2.mask != null && includeMask) {
						var this1 = this2.mask;
						var transparent1 = this2.mask.transparent;
						var includeMask1 = includeMask;
						if(includeMask1 == null) {
							includeMask1 = false;
						}
						if(transparent1 == null) {
							transparent1 = false;
						}
						var p = 0;
						var xx = p;
						var q = 0;
						var maxX = w | 0;
						var maxY = h | 0;
						var w1 = w | 0;
						var h1 = h | 0;
						var this2 = new Uint32Array(w1 * h1 | 0);
						var this3 = new pixelimage_ImageStruct(w1,h1,this2);
						var pixelImage3 = this3;
						pixelImage3.transparent = transparent1;
						var color = 0;
						while(true) {
							var c = this1.image[this1.useVirtualPos ? (q - this1.virtualY) * this1.width + p - this1.virtualX | 0 : q * this1.width + p | 0];
							color = pixelimage_Endian_isLittleEndian ? (c >> 24 & 255) << 24 | (c & 255) << 16 | (c >> 8 & 255) << 8 | c >> 16 & 255 : c;
							var x = maxX - p;
							var y = maxY - q;
							var this2 = color;
							var c1 = this2;
							if((c1 >> 24 & 255) < 254 && pixelImage3.transparent) {
								var location = pixelImage3.useVirtualPos ? (y - pixelImage3.virtualY) * pixelImage3.width + x - pixelImage3.virtualX | 0 : y * pixelImage3.width + x | 0;
								var this3 = pixelImage3.image[location];
								var this4 = this3;
								var this5 = pixelimage_Endian_isLittleEndian ? (this4 >> 24 & 255) << 24 | (this4 & 255) << 16 | (this4 >> 8 & 255) << 8 | this4 >> 16 & 255 : this4;
								var this6 = this5 >> 24 & 255;
								var a1 = this6 == 0 ? 0. : this6 / 255;
								var this7 = this5 >> 16 & 255;
								var r1 = this7 == 0 ? 0. : this7 / 255;
								var this8 = this5 >> 8 & 255;
								var g1 = this8 == 0 ? 0. : this8 / 255;
								var this9 = this5 & 255;
								var b1 = this9 == 0 ? 0. : this9 / 255;
								var this10 = color >> 24 & 255;
								var a2 = this10 == 0 ? 0. : this10 / 255;
								var this11 = color >> 16 & 255;
								var r2 = this11 == 0 ? 0. : this11 / 255;
								var this12 = color >> 8 & 255;
								var g2 = this12 == 0 ? 0. : this12 / 255;
								var this13 = color & 255;
								var b2 = this13 == 0 ? 0. : this13 / 255;
								var a3 = a1 * (1 - a2);
								var r = 255 * (r1 * a3 + r2 * a2) | 0;
								var g = 255 * (g1 * a3 + g2 * a2) | 0;
								var b = 255 * (b1 * a3 + b2 * a2) | 0;
								var a = 255 * (a3 + a2) | 0;
								var blended = a << 24 | r << 16 | g << 8 | b;
								pixelImage3.image[location] = pixelimage_Endian_isLittleEndian ? (blended >> 24 & 255) << 24 | (blended & 255) << 16 | (blended >> 8 & 255) << 8 | blended >> 16 & 255 : blended;
							} else {
								pixelImage3.image[pixelImage3.useVirtualPos ? (y - pixelImage3.virtualY) * pixelImage3.width + x - pixelImage3.virtualX | 0 : y * pixelImage3.width + x | 0] = pixelimage_Endian_isLittleEndian ? (c1 >> 24 & 255) << 24 | (c1 & 255) << 16 | (c1 >> 8 & 255) << 8 | c1 >> 16 & 255 : c1;
							}
							++p;
							if(p > maxX) {
								p = xx;
								++q;
							}
							if(q > maxY) {
								break;
							}
						}
						if(this1.mask != null && includeMask1) {
							var v = pixelimage_Pixelimage.spun180(this1.mask,0,0,w,h,this1.mask.transparent,includeMask1);
							pixelImage3.useMask = true;
							pixelImage3.mask = v;
						}
						var v = pixelImage3;
						pixelImage2.useMask = true;
						pixelImage2.mask = v;
					}
					var v = pixelImage2;
					pixelImage1.useMask = true;
					pixelImage1.mask = v;
				}
				var v = pixelImage1;
				pixelImage.useMask = true;
				pixelImage.mask = v;
			}
			rotated = pixelImage;
		} else if(angle == 180 || angle == -180) {
			var w = scaled.width;
			var h = scaled.height;
			var transparent1 = transparent;
			var includeMask = false;
			if(includeMask == null) {
				includeMask = false;
			}
			if(transparent1 == null) {
				transparent1 = false;
			}
			var p = 0;
			var xx = p;
			var q = 0;
			var maxX = w | 0;
			var maxY = h | 0;
			var w1 = w | 0;
			var h1 = h | 0;
			var this1 = new Uint32Array(w1 * h1 | 0);
			var this2 = new pixelimage_ImageStruct(w1,h1,this1);
			var pixelImage = this2;
			pixelImage.transparent = transparent1;
			var color = 0;
			while(true) {
				var c = scaled.image[scaled.useVirtualPos ? (q - scaled.virtualY) * scaled.width + p - scaled.virtualX | 0 : q * scaled.width + p | 0];
				color = pixelimage_Endian_isLittleEndian ? (c >> 24 & 255) << 24 | (c & 255) << 16 | (c >> 8 & 255) << 8 | c >> 16 & 255 : c;
				var x = maxX - p;
				var y = maxY - q;
				var this1 = color;
				var c1 = this1;
				if((c1 >> 24 & 255) < 254 && pixelImage.transparent) {
					var location = pixelImage.useVirtualPos ? (y - pixelImage.virtualY) * pixelImage.width + x - pixelImage.virtualX | 0 : y * pixelImage.width + x | 0;
					var this2 = pixelImage.image[location];
					var this3 = this2;
					var this4 = pixelimage_Endian_isLittleEndian ? (this3 >> 24 & 255) << 24 | (this3 & 255) << 16 | (this3 >> 8 & 255) << 8 | this3 >> 16 & 255 : this3;
					var this5 = this4 >> 24 & 255;
					var a1 = this5 == 0 ? 0. : this5 / 255;
					var this6 = this4 >> 16 & 255;
					var r1 = this6 == 0 ? 0. : this6 / 255;
					var this7 = this4 >> 8 & 255;
					var g1 = this7 == 0 ? 0. : this7 / 255;
					var this8 = this4 & 255;
					var b1 = this8 == 0 ? 0. : this8 / 255;
					var this9 = color >> 24 & 255;
					var a2 = this9 == 0 ? 0. : this9 / 255;
					var this10 = color >> 16 & 255;
					var r2 = this10 == 0 ? 0. : this10 / 255;
					var this11 = color >> 8 & 255;
					var g2 = this11 == 0 ? 0. : this11 / 255;
					var this12 = color & 255;
					var b2 = this12 == 0 ? 0. : this12 / 255;
					var a3 = a1 * (1 - a2);
					var r = 255 * (r1 * a3 + r2 * a2) | 0;
					var g = 255 * (g1 * a3 + g2 * a2) | 0;
					var b = 255 * (b1 * a3 + b2 * a2) | 0;
					var a = 255 * (a3 + a2) | 0;
					var blended = a << 24 | r << 16 | g << 8 | b;
					pixelImage.image[location] = pixelimage_Endian_isLittleEndian ? (blended >> 24 & 255) << 24 | (blended & 255) << 16 | (blended >> 8 & 255) << 8 | blended >> 16 & 255 : blended;
				} else {
					pixelImage.image[pixelImage.useVirtualPos ? (y - pixelImage.virtualY) * pixelImage.width + x - pixelImage.virtualX | 0 : y * pixelImage.width + x | 0] = pixelimage_Endian_isLittleEndian ? (c1 >> 24 & 255) << 24 | (c1 & 255) << 16 | (c1 >> 8 & 255) << 8 | c1 >> 16 & 255 : c1;
				}
				++p;
				if(p > maxX) {
					p = xx;
					++q;
				}
				if(q > maxY) {
					break;
				}
			}
			if(scaled.mask != null && includeMask) {
				var this1 = scaled.mask;
				var transparent1 = scaled.mask.transparent;
				var includeMask1 = includeMask;
				if(includeMask1 == null) {
					includeMask1 = false;
				}
				if(transparent1 == null) {
					transparent1 = false;
				}
				var p = 0;
				var xx = p;
				var q = 0;
				var maxX = w | 0;
				var maxY = h | 0;
				var w1 = w | 0;
				var h1 = h | 0;
				var this2 = new Uint32Array(w1 * h1 | 0);
				var this3 = new pixelimage_ImageStruct(w1,h1,this2);
				var pixelImage1 = this3;
				pixelImage1.transparent = transparent1;
				var color = 0;
				while(true) {
					var c = this1.image[this1.useVirtualPos ? (q - this1.virtualY) * this1.width + p - this1.virtualX | 0 : q * this1.width + p | 0];
					color = pixelimage_Endian_isLittleEndian ? (c >> 24 & 255) << 24 | (c & 255) << 16 | (c >> 8 & 255) << 8 | c >> 16 & 255 : c;
					var x = maxX - p;
					var y = maxY - q;
					var this2 = color;
					var c1 = this2;
					if((c1 >> 24 & 255) < 254 && pixelImage1.transparent) {
						var location = pixelImage1.useVirtualPos ? (y - pixelImage1.virtualY) * pixelImage1.width + x - pixelImage1.virtualX | 0 : y * pixelImage1.width + x | 0;
						var this3 = pixelImage1.image[location];
						var this4 = this3;
						var this5 = pixelimage_Endian_isLittleEndian ? (this4 >> 24 & 255) << 24 | (this4 & 255) << 16 | (this4 >> 8 & 255) << 8 | this4 >> 16 & 255 : this4;
						var this6 = this5 >> 24 & 255;
						var a1 = this6 == 0 ? 0. : this6 / 255;
						var this7 = this5 >> 16 & 255;
						var r1 = this7 == 0 ? 0. : this7 / 255;
						var this8 = this5 >> 8 & 255;
						var g1 = this8 == 0 ? 0. : this8 / 255;
						var this9 = this5 & 255;
						var b1 = this9 == 0 ? 0. : this9 / 255;
						var this10 = color >> 24 & 255;
						var a2 = this10 == 0 ? 0. : this10 / 255;
						var this11 = color >> 16 & 255;
						var r2 = this11 == 0 ? 0. : this11 / 255;
						var this12 = color >> 8 & 255;
						var g2 = this12 == 0 ? 0. : this12 / 255;
						var this13 = color & 255;
						var b2 = this13 == 0 ? 0. : this13 / 255;
						var a3 = a1 * (1 - a2);
						var r = 255 * (r1 * a3 + r2 * a2) | 0;
						var g = 255 * (g1 * a3 + g2 * a2) | 0;
						var b = 255 * (b1 * a3 + b2 * a2) | 0;
						var a = 255 * (a3 + a2) | 0;
						var blended = a << 24 | r << 16 | g << 8 | b;
						pixelImage1.image[location] = pixelimage_Endian_isLittleEndian ? (blended >> 24 & 255) << 24 | (blended & 255) << 16 | (blended >> 8 & 255) << 8 | blended >> 16 & 255 : blended;
					} else {
						pixelImage1.image[pixelImage1.useVirtualPos ? (y - pixelImage1.virtualY) * pixelImage1.width + x - pixelImage1.virtualX | 0 : y * pixelImage1.width + x | 0] = pixelimage_Endian_isLittleEndian ? (c1 >> 24 & 255) << 24 | (c1 & 255) << 16 | (c1 >> 8 & 255) << 8 | c1 >> 16 & 255 : c1;
					}
					++p;
					if(p > maxX) {
						p = xx;
						++q;
					}
					if(q > maxY) {
						break;
					}
				}
				if(this1.mask != null && includeMask1) {
					var v = pixelimage_Pixelimage.spun180(this1.mask,0,0,w,h,this1.mask.transparent,includeMask1);
					pixelImage1.useMask = true;
					pixelImage1.mask = v;
				}
				var v = pixelImage1;
				pixelImage.useMask = true;
				pixelImage.mask = v;
			}
			rotated = pixelImage;
		} else {
			var theta = angle * Math.PI / 180;
			var centreX1 = centreX;
			var centreY1 = centreY;
			var transparent1 = transparent;
			var includeMask = false;
			if(includeMask == null) {
				includeMask = false;
			}
			if(centreY1 == null) {
				centreY1 = 0.;
			}
			if(centreX1 == null) {
				centreX1 = 0.;
			}
			var ax = 0.;
			var ay = 0.;
			if(centreX1 != 0.) {
				centreX1 = scaled.width / 2 + centreX1;
				ax -= centreX1;
			}
			if(centreY1 != 0.) {
				centreY1 = scaled.height / 2 + centreY1;
				ay -= centreY1;
			}
			var bx = ax + scaled.width;
			var by = ay;
			var cx = bx;
			var cy = ay + scaled.height;
			var dx = ax;
			var dy = cy;
			var sin = Math.sin(theta);
			var cos = Math.cos(theta);
			var temp = ax;
			ax = temp * cos - ay * sin;
			ay = ay * cos + temp * sin;
			var temp = bx;
			bx = temp * cos - by * sin;
			by = by * cos + temp * sin;
			var temp = cx;
			cx = temp * cos - cy * sin;
			cy = cy * cos + temp * sin;
			var temp = dx;
			dx = temp * cos - dy * sin;
			dy = dy * cos + temp * sin;
			if(centreX1 != 0.) {
				ax += centreX1;
				bx += centreX1;
				cx += centreX1;
				dx += centreX1;
			}
			if(centreY1 != 0.) {
				ay += centreY1;
				by += centreY1;
				cy += centreY1;
				dy += centreY1;
			}
			var min = Math.floor(ax);
			var max = Math.ceil(ax);
			if(bx < min) {
				min = Math.floor(bx);
			} else if(bx > max) {
				max = Math.ceil(bx);
			}
			if(cx < min) {
				min = Math.floor(cx);
			} else if(cx > max) {
				max = Math.ceil(cx);
			}
			if(dx < min) {
				min = Math.floor(dx);
			} else if(dx > max) {
				max = Math.ceil(dx);
			}
			var ii_min = min;
			var ii_max = max;
			var this1 = new pixelimage_iter_IntIterStart(ii_min,ii_max);
			var boundX = this1;
			var min = Math.floor(ay);
			var max = Math.ceil(ay);
			if(by < min) {
				min = Math.floor(by);
			} else if(by > max) {
				max = Math.ceil(by);
			}
			if(cy < min) {
				min = Math.floor(cy);
			} else if(cy > max) {
				max = Math.ceil(cy);
			}
			if(dy < min) {
				min = Math.floor(dy);
			} else if(dy > max) {
				max = Math.ceil(dy);
			}
			var ii_min = min;
			var ii_max = max;
			var this1 = new pixelimage_iter_IntIterStart(ii_min,ii_max);
			var boundY = this1;
			var minX = boundX.start;
			var wid = boundX.max - boundX.start + 1;
			var minY = boundY.start;
			var hi = boundY.max - boundY.start + 1;
			var this1 = new Uint32Array(wid * hi | 0);
			var this2 = new pixelimage_ImageStruct(wid,hi,this1);
			var pixelImage = this2;
			pixelImage.transparent = true;
			if(minX < 0.) {
				ax -= minX;
				bx -= minX;
				cx -= minX;
				dx -= minX;
			}
			if(minY < 0.) {
				ay -= minY;
				by -= minY;
				cy -= minY;
				dy -= minY;
			}
			var win_x = 0;
			var win_y = 0;
			var win_width = scaled.width;
			var win_height = scaled.height;
			var hasHit = false;
			if(hasHit == null) {
				hasHit = true;
			}
			var hasHit1 = hasHit;
			if(hasHit1 == null) {
				hasHit1 = false;
			}
			var au = 0.;
			var av = 0.;
			var bu = 1.;
			var bv = 0.;
			var hasHit = hasHit1;
			if(hasHit == null) {
				hasHit = false;
			}
			var temp = au;
			au = bu;
			bu = temp;
			temp = av;
			av = bv;
			bv = temp;
			var bcx = bx - dx;
			var bcy = by - dy;
			var acx = ax - dx;
			var acy = ay - dy;
			var dot11 = bcx * bcx + bcy * bcy;
			var dot12 = bcx * acx + bcy * acy;
			var dot22 = acx * acx + acy * acy;
			var denom1 = 1 / (dot11 * dot22 - dot12 * dot12);
			var this1;
			if(dx > bx) {
				if(dx > ax) {
					var ii_min = bx > ax ? Math.floor(ax) : Math.floor(bx);
					var ii_max = Math.ceil(dx);
					var this2 = new pixelimage_iter_IntIterStart(ii_min,ii_max);
					this1 = this2;
				} else {
					var ii_min = Math.floor(bx);
					var ii_max = Math.ceil(ax);
					var this2 = new pixelimage_iter_IntIterStart(ii_min,ii_max);
					this1 = this2;
				}
			} else if(bx > ax) {
				var ii_min = dx > ax ? Math.floor(ax) : Math.ceil(dx);
				var ii_max = Math.ceil(bx);
				var this2 = new pixelimage_iter_IntIterStart(ii_min,ii_max);
				this1 = this2;
			} else {
				var ii_min = Math.floor(dx);
				var ii_max = Math.ceil(ax);
				var this2 = new pixelimage_iter_IntIterStart(ii_min,ii_max);
				this1 = this2;
			}
			var _g_min = this1.start;
			var _g_max = this1.max;
			while(_g_min < _g_max) {
				var px = _g_min++;
				var pcx = px - dx;
				var this1;
				if(dy > by) {
					if(dy > ay) {
						var ii_min = by > ay ? Math.floor(ay) : Math.floor(by);
						var ii_max = Math.ceil(dy);
						var this2 = new pixelimage_iter_IntIterStart(ii_min,ii_max);
						this1 = this2;
					} else {
						var ii_min1 = Math.floor(by);
						var ii_max1 = Math.ceil(ay);
						var this3 = new pixelimage_iter_IntIterStart(ii_min1,ii_max1);
						this1 = this3;
					}
				} else if(by > ay) {
					var ii_min2 = dy > ay ? Math.floor(ay) : Math.ceil(dy);
					var ii_max2 = Math.ceil(by);
					var this4 = new pixelimage_iter_IntIterStart(ii_min2,ii_max2);
					this1 = this4;
				} else {
					var ii_min3 = Math.floor(dy);
					var ii_max3 = Math.ceil(ay);
					var this5 = new pixelimage_iter_IntIterStart(ii_min3,ii_max3);
					this1 = this5;
				}
				var _g_min1 = this1.start;
				var _g_max1 = this1.max;
				while(_g_min1 < _g_max1) {
					var py = _g_min1++;
					var pcy = py - dy;
					var dot31 = pcx * bcx + pcy * bcy;
					var dot32 = pcx * acx + pcy * acy;
					var ratioA = (dot22 * dot31 - dot12 * dot32) * denom1;
					var ratioB = (dot11 * dot32 - dot12 * dot31) * denom1;
					var ratioC = 1.0 - ratioB - ratioA;
					if(ratioA >= 0 && ratioB >= 0 && ratioC >= 0) {
						var u = au * ratioA + bu * ratioB + 0. * ratioC;
						var v = av * ratioA + bv * ratioB + ratioC;
						var x = u * win_width + win_x | 0;
						var y = v * win_height + win_y | 0;
						var c = scaled.image[scaled.useVirtualPos ? (y - scaled.virtualY) * scaled.width + x - scaled.virtualX | 0 : y * scaled.width + x | 0];
						var col = pixelimage_Endian_isLittleEndian ? (c >> 24 & 255) << 24 | (c & 255) << 16 | (c >> 8 & 255) << 8 | c >> 16 & 255 : c;
						var this6 = col;
						var c1 = this6;
						if((c1 >> 24 & 255) < 254 && pixelImage.transparent) {
							var location = pixelImage.useVirtualPos ? (py - pixelImage.virtualY) * pixelImage.width + px - pixelImage.virtualX | 0 : py * pixelImage.width + px | 0;
							var this7 = pixelImage.image[location];
							var this8 = this7;
							var this9 = pixelimage_Endian_isLittleEndian ? (this8 >> 24 & 255) << 24 | (this8 & 255) << 16 | (this8 >> 8 & 255) << 8 | this8 >> 16 & 255 : this8;
							var this10 = this9 >> 24 & 255;
							var a1 = this10 == 0 ? 0. : this10 / 255;
							var this11 = this9 >> 16 & 255;
							var r1 = this11 == 0 ? 0. : this11 / 255;
							var this12 = this9 >> 8 & 255;
							var g1 = this12 == 0 ? 0. : this12 / 255;
							var this13 = this9 & 255;
							var b1 = this13 == 0 ? 0. : this13 / 255;
							var this14 = col >> 24 & 255;
							var a2 = this14 == 0 ? 0. : this14 / 255;
							var this15 = col >> 16 & 255;
							var r2 = this15 == 0 ? 0. : this15 / 255;
							var this16 = col >> 8 & 255;
							var g2 = this16 == 0 ? 0. : this16 / 255;
							var this17 = col & 255;
							var b2 = this17 == 0 ? 0. : this17 / 255;
							var a3 = a1 * (1 - a2);
							var r = 255 * (r1 * a3 + r2 * a2) | 0;
							var g = 255 * (g1 * a3 + g2 * a2) | 0;
							var b = 255 * (b1 * a3 + b2 * a2) | 0;
							var a = 255 * (a3 + a2) | 0;
							var blended = a << 24 | r << 16 | g << 8 | b;
							pixelImage.image[location] = pixelimage_Endian_isLittleEndian ? (blended >> 24 & 255) << 24 | (blended & 255) << 16 | (blended >> 8 & 255) << 8 | blended >> 16 & 255 : blended;
						} else {
							pixelImage.image[pixelImage.useVirtualPos ? (py - pixelImage.virtualY) * pixelImage.width + px - pixelImage.virtualX | 0 : py * pixelImage.width + px | 0] = pixelimage_Endian_isLittleEndian ? (c1 >> 24 & 255) << 24 | (c1 & 255) << 16 | (c1 >> 8 & 255) << 8 | c1 >> 16 & 255 : c1;
						}
					}
				}
			}
			if(hasHit == false) {
				var v = new pixelimage_algo_HitTri(ax,ay,bx,by,dx,dy,true);
			}
			var au = 1.;
			var av = 0.;
			var bu = 1.;
			var bv = 1.;
			var hasHit = hasHit1;
			if(hasHit == null) {
				hasHit = false;
			}
			var temp = au;
			au = bu;
			bu = temp;
			temp = av;
			av = bv;
			bv = temp;
			var bcx = cx - dx;
			var bcy = cy - dy;
			var acx = bx - dx;
			var acy = by - dy;
			var dot11 = bcx * bcx + bcy * bcy;
			var dot12 = bcx * acx + bcy * acy;
			var dot22 = acx * acx + acy * acy;
			var denom1 = 1 / (dot11 * dot22 - dot12 * dot12);
			var this1;
			if(dx > cx) {
				if(dx > bx) {
					var ii_min = cx > bx ? Math.floor(bx) : Math.floor(cx);
					var ii_max = Math.ceil(dx);
					var this2 = new pixelimage_iter_IntIterStart(ii_min,ii_max);
					this1 = this2;
				} else {
					var ii_min = Math.floor(cx);
					var ii_max = Math.ceil(bx);
					var this2 = new pixelimage_iter_IntIterStart(ii_min,ii_max);
					this1 = this2;
				}
			} else if(cx > bx) {
				var ii_min = dx > bx ? Math.floor(bx) : Math.ceil(dx);
				var ii_max = Math.ceil(cx);
				var this2 = new pixelimage_iter_IntIterStart(ii_min,ii_max);
				this1 = this2;
			} else {
				var ii_min = Math.floor(dx);
				var ii_max = Math.ceil(bx);
				var this2 = new pixelimage_iter_IntIterStart(ii_min,ii_max);
				this1 = this2;
			}
			var _g_min = this1.start;
			var _g_max = this1.max;
			while(_g_min < _g_max) {
				var px = _g_min++;
				var pcx = px - dx;
				var this1;
				if(dy > cy) {
					if(dy > by) {
						var ii_min = cy > by ? Math.floor(by) : Math.floor(cy);
						var ii_max = Math.ceil(dy);
						var this2 = new pixelimage_iter_IntIterStart(ii_min,ii_max);
						this1 = this2;
					} else {
						var ii_min1 = Math.floor(cy);
						var ii_max1 = Math.ceil(by);
						var this3 = new pixelimage_iter_IntIterStart(ii_min1,ii_max1);
						this1 = this3;
					}
				} else if(cy > by) {
					var ii_min2 = dy > by ? Math.floor(by) : Math.ceil(dy);
					var ii_max2 = Math.ceil(cy);
					var this4 = new pixelimage_iter_IntIterStart(ii_min2,ii_max2);
					this1 = this4;
				} else {
					var ii_min3 = Math.floor(dy);
					var ii_max3 = Math.ceil(by);
					var this5 = new pixelimage_iter_IntIterStart(ii_min3,ii_max3);
					this1 = this5;
				}
				var _g_min1 = this1.start;
				var _g_max1 = this1.max;
				while(_g_min1 < _g_max1) {
					var py = _g_min1++;
					var pcy = py - dy;
					var dot31 = pcx * bcx + pcy * bcy;
					var dot32 = pcx * acx + pcy * acy;
					var ratioA = (dot22 * dot31 - dot12 * dot32) * denom1;
					var ratioB = (dot11 * dot32 - dot12 * dot31) * denom1;
					var ratioC = 1.0 - ratioB - ratioA;
					if(ratioA >= 0 && ratioB >= 0 && ratioC >= 0) {
						var u = au * ratioA + bu * ratioB + 0. * ratioC;
						var v = av * ratioA + bv * ratioB + ratioC;
						var x = u * win_width + win_x | 0;
						var y = v * win_height + win_y | 0;
						var c = scaled.image[scaled.useVirtualPos ? (y - scaled.virtualY) * scaled.width + x - scaled.virtualX | 0 : y * scaled.width + x | 0];
						var col = pixelimage_Endian_isLittleEndian ? (c >> 24 & 255) << 24 | (c & 255) << 16 | (c >> 8 & 255) << 8 | c >> 16 & 255 : c;
						var this6 = col;
						var c1 = this6;
						if((c1 >> 24 & 255) < 254 && pixelImage.transparent) {
							var location = pixelImage.useVirtualPos ? (py - pixelImage.virtualY) * pixelImage.width + px - pixelImage.virtualX | 0 : py * pixelImage.width + px | 0;
							var this7 = pixelImage.image[location];
							var this8 = this7;
							var this9 = pixelimage_Endian_isLittleEndian ? (this8 >> 24 & 255) << 24 | (this8 & 255) << 16 | (this8 >> 8 & 255) << 8 | this8 >> 16 & 255 : this8;
							var this10 = this9 >> 24 & 255;
							var a1 = this10 == 0 ? 0. : this10 / 255;
							var this11 = this9 >> 16 & 255;
							var r1 = this11 == 0 ? 0. : this11 / 255;
							var this12 = this9 >> 8 & 255;
							var g1 = this12 == 0 ? 0. : this12 / 255;
							var this13 = this9 & 255;
							var b1 = this13 == 0 ? 0. : this13 / 255;
							var this14 = col >> 24 & 255;
							var a2 = this14 == 0 ? 0. : this14 / 255;
							var this15 = col >> 16 & 255;
							var r2 = this15 == 0 ? 0. : this15 / 255;
							var this16 = col >> 8 & 255;
							var g2 = this16 == 0 ? 0. : this16 / 255;
							var this17 = col & 255;
							var b2 = this17 == 0 ? 0. : this17 / 255;
							var a3 = a1 * (1 - a2);
							var r = 255 * (r1 * a3 + r2 * a2) | 0;
							var g = 255 * (g1 * a3 + g2 * a2) | 0;
							var b = 255 * (b1 * a3 + b2 * a2) | 0;
							var a = 255 * (a3 + a2) | 0;
							var blended = a << 24 | r << 16 | g << 8 | b;
							pixelImage.image[location] = pixelimage_Endian_isLittleEndian ? (blended >> 24 & 255) << 24 | (blended & 255) << 16 | (blended >> 8 & 255) << 8 | blended >> 16 & 255 : blended;
						} else {
							pixelImage.image[pixelImage.useVirtualPos ? (py - pixelImage.virtualY) * pixelImage.width + px - pixelImage.virtualX | 0 : py * pixelImage.width + px | 0] = pixelimage_Endian_isLittleEndian ? (c1 >> 24 & 255) << 24 | (c1 & 255) << 16 | (c1 >> 8 & 255) << 8 | c1 >> 16 & 255 : c1;
						}
					}
				}
			}
			if(hasHit == false) {
				var v = new pixelimage_algo_HitTri(bx,by,cx,cy,dx,dy,true);
			}
			if(hasHit1 == true) {
				var v = new pixelimage_algo_HitQuad(ax,ay,bx,by,cx,cy,dx,dy,true);
			}
			if(scaled.mask != null && includeMask) {
				var this1 = scaled.mask;
				var centreX = centreX1;
				var centreY = centreY1;
				var transparent = scaled.mask.transparent;
				var includeMask1 = includeMask;
				if(includeMask1 == null) {
					includeMask1 = false;
				}
				if(centreY == null) {
					centreY = 0.;
				}
				if(centreX == null) {
					centreX = 0.;
				}
				var ax = 0.;
				var ay = 0.;
				if(centreX != 0.) {
					centreX = this1.width / 2 + centreX;
					ax -= centreX;
				}
				if(centreY != 0.) {
					centreY = this1.height / 2 + centreY;
					ay -= centreY;
				}
				var bx = ax + this1.width;
				var by = ay;
				var cx = bx;
				var cy = ay + this1.height;
				var dx = ax;
				var dy = cy;
				var sin = Math.sin(theta);
				var cos = Math.cos(theta);
				var temp = ax;
				ax = temp * cos - ay * sin;
				ay = ay * cos + temp * sin;
				var temp = bx;
				bx = temp * cos - by * sin;
				by = by * cos + temp * sin;
				var temp = cx;
				cx = temp * cos - cy * sin;
				cy = cy * cos + temp * sin;
				var temp = dx;
				dx = temp * cos - dy * sin;
				dy = dy * cos + temp * sin;
				if(centreX != 0.) {
					ax += centreX;
					bx += centreX;
					cx += centreX;
					dx += centreX;
				}
				if(centreY != 0.) {
					ay += centreY;
					by += centreY;
					cy += centreY;
					dy += centreY;
				}
				var min = Math.floor(ax);
				var max = Math.ceil(ax);
				if(bx < min) {
					min = Math.floor(bx);
				} else if(bx > max) {
					max = Math.ceil(bx);
				}
				if(cx < min) {
					min = Math.floor(cx);
				} else if(cx > max) {
					max = Math.ceil(cx);
				}
				if(dx < min) {
					min = Math.floor(dx);
				} else if(dx > max) {
					max = Math.ceil(dx);
				}
				var ii_min = min;
				var ii_max = max;
				var this2 = new pixelimage_iter_IntIterStart(ii_min,ii_max);
				var boundX = this2;
				var min = Math.floor(ay);
				var max = Math.ceil(ay);
				if(by < min) {
					min = Math.floor(by);
				} else if(by > max) {
					max = Math.ceil(by);
				}
				if(cy < min) {
					min = Math.floor(cy);
				} else if(cy > max) {
					max = Math.ceil(cy);
				}
				if(dy < min) {
					min = Math.floor(dy);
				} else if(dy > max) {
					max = Math.ceil(dy);
				}
				var ii_min = min;
				var ii_max = max;
				var this2 = new pixelimage_iter_IntIterStart(ii_min,ii_max);
				var boundY = this2;
				var minX = boundX.start;
				var wid = boundX.max - boundX.start + 1;
				var minY = boundY.start;
				var hi = boundY.max - boundY.start + 1;
				var this2 = new Uint32Array(wid * hi | 0);
				var this3 = new pixelimage_ImageStruct(wid,hi,this2);
				var pixelImage1 = this3;
				pixelImage1.transparent = true;
				if(minX < 0.) {
					ax -= minX;
					bx -= minX;
					cx -= minX;
					dx -= minX;
				}
				if(minY < 0.) {
					ay -= minY;
					by -= minY;
					cy -= minY;
					dy -= minY;
				}
				var win_x = 0;
				var win_y = 0;
				var win_width = this1.width;
				var win_height = this1.height;
				var hasHit = false;
				if(hasHit == null) {
					hasHit = true;
				}
				var hasHit1 = hasHit;
				if(hasHit1 == null) {
					hasHit1 = false;
				}
				var au = 0.;
				var av = 0.;
				var bu = 1.;
				var bv = 0.;
				var hasHit = hasHit1;
				if(hasHit == null) {
					hasHit = false;
				}
				var temp = au;
				au = bu;
				bu = temp;
				temp = av;
				av = bv;
				bv = temp;
				var bcx = bx - dx;
				var bcy = by - dy;
				var acx = ax - dx;
				var acy = ay - dy;
				var dot11 = bcx * bcx + bcy * bcy;
				var dot12 = bcx * acx + bcy * acy;
				var dot22 = acx * acx + acy * acy;
				var denom1 = 1 / (dot11 * dot22 - dot12 * dot12);
				var this2;
				if(dx > bx) {
					if(dx > ax) {
						var ii_min = bx > ax ? Math.floor(ax) : Math.floor(bx);
						var ii_max = Math.ceil(dx);
						var this3 = new pixelimage_iter_IntIterStart(ii_min,ii_max);
						this2 = this3;
					} else {
						var ii_min = Math.floor(bx);
						var ii_max = Math.ceil(ax);
						var this3 = new pixelimage_iter_IntIterStart(ii_min,ii_max);
						this2 = this3;
					}
				} else if(bx > ax) {
					var ii_min = dx > ax ? Math.floor(ax) : Math.ceil(dx);
					var ii_max = Math.ceil(bx);
					var this3 = new pixelimage_iter_IntIterStart(ii_min,ii_max);
					this2 = this3;
				} else {
					var ii_min = Math.floor(dx);
					var ii_max = Math.ceil(ax);
					var this3 = new pixelimage_iter_IntIterStart(ii_min,ii_max);
					this2 = this3;
				}
				var _g_min = this2.start;
				var _g_max = this2.max;
				while(_g_min < _g_max) {
					var px = _g_min++;
					var pcx = px - dx;
					var this2;
					if(dy > by) {
						if(dy > ay) {
							var ii_min = by > ay ? Math.floor(ay) : Math.floor(by);
							var ii_max = Math.ceil(dy);
							var this3 = new pixelimage_iter_IntIterStart(ii_min,ii_max);
							this2 = this3;
						} else {
							var ii_min1 = Math.floor(by);
							var ii_max1 = Math.ceil(ay);
							var this4 = new pixelimage_iter_IntIterStart(ii_min1,ii_max1);
							this2 = this4;
						}
					} else if(by > ay) {
						var ii_min2 = dy > ay ? Math.floor(ay) : Math.ceil(dy);
						var ii_max2 = Math.ceil(by);
						var this5 = new pixelimage_iter_IntIterStart(ii_min2,ii_max2);
						this2 = this5;
					} else {
						var ii_min3 = Math.floor(dy);
						var ii_max3 = Math.ceil(ay);
						var this6 = new pixelimage_iter_IntIterStart(ii_min3,ii_max3);
						this2 = this6;
					}
					var _g_min1 = this2.start;
					var _g_max1 = this2.max;
					while(_g_min1 < _g_max1) {
						var py = _g_min1++;
						var pcy = py - dy;
						var dot31 = pcx * bcx + pcy * bcy;
						var dot32 = pcx * acx + pcy * acy;
						var ratioA = (dot22 * dot31 - dot12 * dot32) * denom1;
						var ratioB = (dot11 * dot32 - dot12 * dot31) * denom1;
						var ratioC = 1.0 - ratioB - ratioA;
						if(ratioA >= 0 && ratioB >= 0 && ratioC >= 0) {
							var u = au * ratioA + bu * ratioB + 0. * ratioC;
							var v = av * ratioA + bv * ratioB + ratioC;
							var x = u * win_width + win_x | 0;
							var y = v * win_height + win_y | 0;
							var c = this1.image[this1.useVirtualPos ? (y - this1.virtualY) * this1.width + x - this1.virtualX | 0 : y * this1.width + x | 0];
							var col = pixelimage_Endian_isLittleEndian ? (c >> 24 & 255) << 24 | (c & 255) << 16 | (c >> 8 & 255) << 8 | c >> 16 & 255 : c;
							var this7 = col;
							var c1 = this7;
							if((c1 >> 24 & 255) < 254 && pixelImage1.transparent) {
								var location = pixelImage1.useVirtualPos ? (py - pixelImage1.virtualY) * pixelImage1.width + px - pixelImage1.virtualX | 0 : py * pixelImage1.width + px | 0;
								var this8 = pixelImage1.image[location];
								var this9 = this8;
								var this10 = pixelimage_Endian_isLittleEndian ? (this9 >> 24 & 255) << 24 | (this9 & 255) << 16 | (this9 >> 8 & 255) << 8 | this9 >> 16 & 255 : this9;
								var this11 = this10 >> 24 & 255;
								var a1 = this11 == 0 ? 0. : this11 / 255;
								var this12 = this10 >> 16 & 255;
								var r1 = this12 == 0 ? 0. : this12 / 255;
								var this13 = this10 >> 8 & 255;
								var g1 = this13 == 0 ? 0. : this13 / 255;
								var this14 = this10 & 255;
								var b1 = this14 == 0 ? 0. : this14 / 255;
								var this15 = col >> 24 & 255;
								var a2 = this15 == 0 ? 0. : this15 / 255;
								var this16 = col >> 16 & 255;
								var r2 = this16 == 0 ? 0. : this16 / 255;
								var this17 = col >> 8 & 255;
								var g2 = this17 == 0 ? 0. : this17 / 255;
								var this18 = col & 255;
								var b2 = this18 == 0 ? 0. : this18 / 255;
								var a3 = a1 * (1 - a2);
								var r = 255 * (r1 * a3 + r2 * a2) | 0;
								var g = 255 * (g1 * a3 + g2 * a2) | 0;
								var b = 255 * (b1 * a3 + b2 * a2) | 0;
								var a = 255 * (a3 + a2) | 0;
								var blended = a << 24 | r << 16 | g << 8 | b;
								pixelImage1.image[location] = pixelimage_Endian_isLittleEndian ? (blended >> 24 & 255) << 24 | (blended & 255) << 16 | (blended >> 8 & 255) << 8 | blended >> 16 & 255 : blended;
							} else {
								pixelImage1.image[pixelImage1.useVirtualPos ? (py - pixelImage1.virtualY) * pixelImage1.width + px - pixelImage1.virtualX | 0 : py * pixelImage1.width + px | 0] = pixelimage_Endian_isLittleEndian ? (c1 >> 24 & 255) << 24 | (c1 & 255) << 16 | (c1 >> 8 & 255) << 8 | c1 >> 16 & 255 : c1;
							}
						}
					}
				}
				if(hasHit == false) {
					var v = new pixelimage_algo_HitTri(ax,ay,bx,by,dx,dy,true);
				}
				var au = 1.;
				var av = 0.;
				var bu = 1.;
				var bv = 1.;
				var hasHit = hasHit1;
				if(hasHit == null) {
					hasHit = false;
				}
				var temp = au;
				au = bu;
				bu = temp;
				temp = av;
				av = bv;
				bv = temp;
				var bcx = cx - dx;
				var bcy = cy - dy;
				var acx = bx - dx;
				var acy = by - dy;
				var dot11 = bcx * bcx + bcy * bcy;
				var dot12 = bcx * acx + bcy * acy;
				var dot22 = acx * acx + acy * acy;
				var denom1 = 1 / (dot11 * dot22 - dot12 * dot12);
				var this2;
				if(dx > cx) {
					if(dx > bx) {
						var ii_min = cx > bx ? Math.floor(bx) : Math.floor(cx);
						var ii_max = Math.ceil(dx);
						var this3 = new pixelimage_iter_IntIterStart(ii_min,ii_max);
						this2 = this3;
					} else {
						var ii_min = Math.floor(cx);
						var ii_max = Math.ceil(bx);
						var this3 = new pixelimage_iter_IntIterStart(ii_min,ii_max);
						this2 = this3;
					}
				} else if(cx > bx) {
					var ii_min = dx > bx ? Math.floor(bx) : Math.ceil(dx);
					var ii_max = Math.ceil(cx);
					var this3 = new pixelimage_iter_IntIterStart(ii_min,ii_max);
					this2 = this3;
				} else {
					var ii_min = Math.floor(dx);
					var ii_max = Math.ceil(bx);
					var this3 = new pixelimage_iter_IntIterStart(ii_min,ii_max);
					this2 = this3;
				}
				var _g_min = this2.start;
				var _g_max = this2.max;
				while(_g_min < _g_max) {
					var px = _g_min++;
					var pcx = px - dx;
					var this2;
					if(dy > cy) {
						if(dy > by) {
							var ii_min = cy > by ? Math.floor(by) : Math.floor(cy);
							var ii_max = Math.ceil(dy);
							var this3 = new pixelimage_iter_IntIterStart(ii_min,ii_max);
							this2 = this3;
						} else {
							var ii_min1 = Math.floor(cy);
							var ii_max1 = Math.ceil(by);
							var this4 = new pixelimage_iter_IntIterStart(ii_min1,ii_max1);
							this2 = this4;
						}
					} else if(cy > by) {
						var ii_min2 = dy > by ? Math.floor(by) : Math.ceil(dy);
						var ii_max2 = Math.ceil(cy);
						var this5 = new pixelimage_iter_IntIterStart(ii_min2,ii_max2);
						this2 = this5;
					} else {
						var ii_min3 = Math.floor(dy);
						var ii_max3 = Math.ceil(by);
						var this6 = new pixelimage_iter_IntIterStart(ii_min3,ii_max3);
						this2 = this6;
					}
					var _g_min1 = this2.start;
					var _g_max1 = this2.max;
					while(_g_min1 < _g_max1) {
						var py = _g_min1++;
						var pcy = py - dy;
						var dot31 = pcx * bcx + pcy * bcy;
						var dot32 = pcx * acx + pcy * acy;
						var ratioA = (dot22 * dot31 - dot12 * dot32) * denom1;
						var ratioB = (dot11 * dot32 - dot12 * dot31) * denom1;
						var ratioC = 1.0 - ratioB - ratioA;
						if(ratioA >= 0 && ratioB >= 0 && ratioC >= 0) {
							var u = au * ratioA + bu * ratioB + 0. * ratioC;
							var v = av * ratioA + bv * ratioB + ratioC;
							var x = u * win_width + win_x | 0;
							var y = v * win_height + win_y | 0;
							var c = this1.image[this1.useVirtualPos ? (y - this1.virtualY) * this1.width + x - this1.virtualX | 0 : y * this1.width + x | 0];
							var col = pixelimage_Endian_isLittleEndian ? (c >> 24 & 255) << 24 | (c & 255) << 16 | (c >> 8 & 255) << 8 | c >> 16 & 255 : c;
							var this7 = col;
							var c1 = this7;
							if((c1 >> 24 & 255) < 254 && pixelImage1.transparent) {
								var location = pixelImage1.useVirtualPos ? (py - pixelImage1.virtualY) * pixelImage1.width + px - pixelImage1.virtualX | 0 : py * pixelImage1.width + px | 0;
								var this8 = pixelImage1.image[location];
								var this9 = this8;
								var this10 = pixelimage_Endian_isLittleEndian ? (this9 >> 24 & 255) << 24 | (this9 & 255) << 16 | (this9 >> 8 & 255) << 8 | this9 >> 16 & 255 : this9;
								var this11 = this10 >> 24 & 255;
								var a1 = this11 == 0 ? 0. : this11 / 255;
								var this12 = this10 >> 16 & 255;
								var r1 = this12 == 0 ? 0. : this12 / 255;
								var this13 = this10 >> 8 & 255;
								var g1 = this13 == 0 ? 0. : this13 / 255;
								var this14 = this10 & 255;
								var b1 = this14 == 0 ? 0. : this14 / 255;
								var this15 = col >> 24 & 255;
								var a2 = this15 == 0 ? 0. : this15 / 255;
								var this16 = col >> 16 & 255;
								var r2 = this16 == 0 ? 0. : this16 / 255;
								var this17 = col >> 8 & 255;
								var g2 = this17 == 0 ? 0. : this17 / 255;
								var this18 = col & 255;
								var b2 = this18 == 0 ? 0. : this18 / 255;
								var a3 = a1 * (1 - a2);
								var r = 255 * (r1 * a3 + r2 * a2) | 0;
								var g = 255 * (g1 * a3 + g2 * a2) | 0;
								var b = 255 * (b1 * a3 + b2 * a2) | 0;
								var a = 255 * (a3 + a2) | 0;
								var blended = a << 24 | r << 16 | g << 8 | b;
								pixelImage1.image[location] = pixelimage_Endian_isLittleEndian ? (blended >> 24 & 255) << 24 | (blended & 255) << 16 | (blended >> 8 & 255) << 8 | blended >> 16 & 255 : blended;
							} else {
								pixelImage1.image[pixelImage1.useVirtualPos ? (py - pixelImage1.virtualY) * pixelImage1.width + px - pixelImage1.virtualX | 0 : py * pixelImage1.width + px | 0] = pixelimage_Endian_isLittleEndian ? (c1 >> 24 & 255) << 24 | (c1 & 255) << 16 | (c1 >> 8 & 255) << 8 | c1 >> 16 & 255 : c1;
							}
						}
					}
				}
				if(hasHit == false) {
					var v = new pixelimage_algo_HitTri(bx,by,cx,cy,dx,dy,true);
				}
				if(hasHit1 == true) {
					var v = new pixelimage_algo_HitQuad(ax,ay,bx,by,cx,cy,dx,dy,true);
				}
				if(this1.mask != null && includeMask1) {
					var v = pixelimage_Pixelimage.rotate(this1.mask,theta,centreX,centreY,this1.mask.transparent,includeMask1);
					pixelImage1.useMask = true;
					pixelImage1.mask = v;
				}
				var v = pixelImage1;
				pixelImage.useMask = true;
				pixelImage.mask = v;
			}
			rotated = pixelImage;
		}
		var this1 = this.pixelShape;
		var _g = 0;
		var _g1 = rotated.height;
		while(_g < _g1) {
			var dy = _g++;
			var _g2 = 0;
			var _g3 = rotated.width;
			while(_g2 < _g3) {
				var dx = _g2++;
				var c = rotated.image[rotated.useVirtualPos ? (dy - rotated.virtualY) * rotated.width + dx - rotated.virtualX | 0 : dy * rotated.width + dx | 0];
				var col = pixelimage_Endian_isLittleEndian ? (c >> 24 & 255) << 24 | (c & 255) << 16 | (c >> 8 & 255) << 8 | c >> 16 & 255 : c;
				if(rotated.useMask && rotated.mask != null) {
					var this2 = rotated.mask;
					var c1 = this2.image[this2.useVirtualPos ? (dy - this2.virtualY) * this2.width + dx - this2.virtualX | 0 : dy * this2.width + dx | 0];
					var this3 = pixelimage_Endian_isLittleEndian ? (c1 >> 24 & 255) << 24 | (c1 & 255) << 16 | (c1 >> 8 & 255) << 8 | c1 >> 16 & 255 : c1;
					var maskPixel = this3;
					var this4 = col;
					var this5 = this4;
					if(maskPixel == 0) {
						var this6 = this5;
						col = this6;
					} else {
						var this7 = maskPixel >> 24 & 255;
						var m0 = this7 == 0 ? 0. : this7 / 255;
						var this8 = maskPixel >> 16 & 255;
						var m1 = this8 == 0 ? 0. : this8 / 255;
						var this9 = maskPixel >> 8 & 255;
						var m2 = this9 == 0 ? 0. : this9 / 255;
						var this10 = maskPixel & 255;
						var m3 = this10 == 0 ? 0. : this10 / 255;
						var ch0 = (1. - m0) * (this5 >> 24 & 255) | 0;
						var ch1 = (1. - m1) * (this5 >> 16 & 255) | 0;
						var ch2 = (1. - m2) * (this5 >> 8 & 255) | 0;
						var ch3 = (1. - m3) * (this5 & 255) | 0;
						col = Math.round(ch0 * 255) << 24 | Math.round(ch1 * 255) << 16 | Math.round(ch2 * 255) << 8 | Math.round(ch3 * 255);
					}
				}
				if(col != 0) {
					var x = 100 + dx;
					var y = 100 + dy;
					var this11 = col;
					var c2 = this11;
					if((c2 >> 24 & 255) < 254 && this1.transparent) {
						var location = this1.useVirtualPos ? (y - this1.virtualY) * this1.width + x - this1.virtualX | 0 : y * this1.width + x | 0;
						var this12 = this1.image[location];
						var this13 = this12;
						var this14 = pixelimage_Endian_isLittleEndian ? (this13 >> 24 & 255) << 24 | (this13 & 255) << 16 | (this13 >> 8 & 255) << 8 | this13 >> 16 & 255 : this13;
						var this15 = this14 >> 24 & 255;
						var a1 = this15 == 0 ? 0. : this15 / 255;
						var this16 = this14 >> 16 & 255;
						var r1 = this16 == 0 ? 0. : this16 / 255;
						var this17 = this14 >> 8 & 255;
						var g1 = this17 == 0 ? 0. : this17 / 255;
						var this18 = this14 & 255;
						var b1 = this18 == 0 ? 0. : this18 / 255;
						var this19 = col >> 24 & 255;
						var a2 = this19 == 0 ? 0. : this19 / 255;
						var this20 = col >> 16 & 255;
						var r2 = this20 == 0 ? 0. : this20 / 255;
						var this21 = col >> 8 & 255;
						var g2 = this21 == 0 ? 0. : this21 / 255;
						var this22 = col & 255;
						var b2 = this22 == 0 ? 0. : this22 / 255;
						var a3 = a1 * (1 - a2);
						var r = 255 * (r1 * a3 + r2 * a2) | 0;
						var g = 255 * (g1 * a3 + g2 * a2) | 0;
						var b = 255 * (b1 * a3 + b2 * a2) | 0;
						var a = 255 * (a3 + a2) | 0;
						var blended = a << 24 | r << 16 | g << 8 | b;
						this1.image[location] = pixelimage_Endian_isLittleEndian ? (blended >> 24 & 255) << 24 | (blended & 255) << 16 | (blended >> 8 & 255) << 8 | blended >> 16 & 255 : blended;
					} else {
						this1.image[this1.useVirtualPos ? (y - this1.virtualY) * this1.width + x - this1.virtualX | 0 : y * this1.width + x | 0] = pixelimage_Endian_isLittleEndian ? (c2 >> 24 & 255) << 24 | (c2 & 255) << 16 | (c2 >> 8 & 255) << 8 | c2 >> 16 & 255 : c2;
					}
				}
			}
		}
		this.end();
	}
	,begin: function() {
		this.surface = this.canvasSetup.surface;
		var this1 = new Uint32Array(12582912);
		var this2 = new pixelimage_ImageStruct(4096,3072,this1);
		var this1 = this2;
		this.pixelShape = this1;
		this.pixelShape.transparent = true;
	}
	,end: function() {
		var this1 = this.pixelShape;
		var ctx = this.surface.me;
		if(this1.useMask && this1.mask != null) {
			var w = this1.width;
			var h = this1.height;
			var this2 = new Uint32Array(w * h | 0);
			var this3 = new pixelimage_ImageStruct(w,h,this2);
			var temp = this3;
			var _g = 0;
			var _g1 = this1.image.length;
			while(_g < _g1) {
				var i = _g++;
				var this2 = this1.image[i];
				var p0 = this2;
				var this3 = this1.mask.image[i];
				var m1 = this3;
				var value;
				if(m1 == 0) {
					var this4 = p0;
					value = this4;
				} else {
					var this5 = m1 >> 24 & 255;
					var m0 = this5 == 0 ? 0. : this5 / 255;
					var this6 = m1 >> 16 & 255;
					var m11 = this6 == 0 ? 0. : this6 / 255;
					var this7 = m1 >> 8 & 255;
					var m2 = this7 == 0 ? 0. : this7 / 255;
					var this8 = m1 & 255;
					var m3 = this8 == 0 ? 0. : this8 / 255;
					var ch0 = (1. - m0) * (p0 >> 24 & 255) | 0;
					var ch1 = (1. - m11) * (p0 >> 16 & 255) | 0;
					var ch2 = (1. - m2) * (p0 >> 8 & 255) | 0;
					var ch3 = (1. - m3) * (p0 & 255) | 0;
					value = Math.round(ch0 * 255) << 24 | Math.round(ch1 * 255) << 16 | Math.round(ch2 * 255) << 8 | Math.round(ch3 * 255);
				}
				temp.image[i] = value;
			}
			var dataimg = temp.image;
			var data = new Uint8ClampedArray(new Uint8Array(dataimg.buffer).buffer);
			var imageData = new ImageData(data,this1.width,this1.height);
			if(this1.useVirtualPos) {
				ctx.putImageData(imageData,0 - this1.virtualX,0 - this1.virtualY);
			} else {
				ctx.putImageData(imageData,0,0);
			}
		} else {
			var dataimg = this1.image;
			var data = new Uint8ClampedArray(new Uint8Array(dataimg.buffer).buffer);
			var imageData = new ImageData(data,this1.width,this1.height);
			if(this1.useVirtualPos) {
				ctx.putImageData(imageData,0 - this1.virtualX,0 - this1.virtualY);
			} else {
				ctx.putImageData(imageData,0,0);
			}
		}
	}
	,drawGrid: function() {
		var this1 = this.pixelShape;
		var h_ = 2300;
		var w_ = 3000;
		var _g = 0;
		var _g1 = 31;
		while(_g < _g1) {
			var i = _g++;
			var x = 100 + i * 100 - 1.25;
			var p = x | 0;
			var xx = p;
			var q = 100;
			var maxX = x + 2.5 | 0;
			var maxY = 100 + h_ | 0;
			while(true) {
				var x1 = p++;
				var this2 = -16764160;
				var c = this2;
				if((c >> 24 & 255) < 254 && this1.transparent) {
					var location = this1.useVirtualPos ? (q - this1.virtualY) * this1.width + x1 - this1.virtualX | 0 : q * this1.width + x1 | 0;
					var this3 = this1.image[location];
					var this4 = this3;
					var this5 = pixelimage_Endian_isLittleEndian ? (this4 >> 24 & 255) << 24 | (this4 & 255) << 16 | (this4 >> 8 & 255) << 8 | this4 >> 16 & 255 : this4;
					var this6 = this5 >> 24 & 255;
					var a1 = this6 == 0 ? 0. : this6 / 255;
					var this7 = this5 >> 16 & 255;
					var r1 = this7 == 0 ? 0. : this7 / 255;
					var this8 = this5 >> 8 & 255;
					var g1 = this8 == 0 ? 0. : this8 / 255;
					var this9 = this5 & 255;
					var b1 = this9 == 0 ? 0. : this9 / 255;
					var this10 = 255;
					var a2 = this10 == 0 ? 0. : this10 / 255;
					var this11 = 0;
					var r2 = this11 == 0 ? 0. : this11 / 255;
					var this12 = 51;
					var g2 = this12 == 0 ? 0. : this12 / 255;
					var this13 = 0;
					var b2 = this13 == 0 ? 0. : this13 / 255;
					var a3 = a1 * (1 - a2);
					var r = 255 * (r1 * a3 + r2 * a2) | 0;
					var g = 255 * (g1 * a3 + g2 * a2) | 0;
					var b = 255 * (b1 * a3 + b2 * a2) | 0;
					var a = 255 * (a3 + a2) | 0;
					var blended = a << 24 | r << 16 | g << 8 | b;
					this1.image[location] = pixelimage_Endian_isLittleEndian ? (blended >> 24 & 255) << 24 | (blended & 255) << 16 | (blended >> 8 & 255) << 8 | blended >> 16 & 255 : blended;
				} else {
					this1.image[this1.useVirtualPos ? (q - this1.virtualY) * this1.width + x1 - this1.virtualX | 0 : q * this1.width + x1 | 0] = pixelimage_Endian_isLittleEndian ? (c >> 24 & 255) << 24 | (c & 255) << 16 | (c >> 8 & 255) << 8 | c >> 16 & 255 : c;
				}
				if(p > maxX) {
					p = xx;
					++q;
				}
				if(q > maxY) {
					break;
				}
			}
		}
		var _g = 0;
		var _g1 = 24;
		while(_g < _g1) {
			var i = _g++;
			var y = 100 + i * 100 - 1.25;
			var p = 100;
			var xx = p;
			var q = y | 0;
			var maxX = 100 + w_ | 0;
			var maxY = y + 2.5 | 0;
			while(true) {
				var x = p++;
				var this2 = -16764160;
				var c = this2;
				if((c >> 24 & 255) < 254 && this1.transparent) {
					var location = this1.useVirtualPos ? (q - this1.virtualY) * this1.width + x - this1.virtualX | 0 : q * this1.width + x | 0;
					var this3 = this1.image[location];
					var this4 = this3;
					var this5 = pixelimage_Endian_isLittleEndian ? (this4 >> 24 & 255) << 24 | (this4 & 255) << 16 | (this4 >> 8 & 255) << 8 | this4 >> 16 & 255 : this4;
					var this6 = this5 >> 24 & 255;
					var a1 = this6 == 0 ? 0. : this6 / 255;
					var this7 = this5 >> 16 & 255;
					var r1 = this7 == 0 ? 0. : this7 / 255;
					var this8 = this5 >> 8 & 255;
					var g1 = this8 == 0 ? 0. : this8 / 255;
					var this9 = this5 & 255;
					var b1 = this9 == 0 ? 0. : this9 / 255;
					var this10 = 255;
					var a2 = this10 == 0 ? 0. : this10 / 255;
					var this11 = 0;
					var r2 = this11 == 0 ? 0. : this11 / 255;
					var this12 = 51;
					var g2 = this12 == 0 ? 0. : this12 / 255;
					var this13 = 0;
					var b2 = this13 == 0 ? 0. : this13 / 255;
					var a3 = a1 * (1 - a2);
					var r = 255 * (r1 * a3 + r2 * a2) | 0;
					var g = 255 * (g1 * a3 + g2 * a2) | 0;
					var b = 255 * (b1 * a3 + b2 * a2) | 0;
					var a = 255 * (a3 + a2) | 0;
					var blended = a << 24 | r << 16 | g << 8 | b;
					this1.image[location] = pixelimage_Endian_isLittleEndian ? (blended >> 24 & 255) << 24 | (blended & 255) << 16 | (blended >> 8 & 255) << 8 | blended >> 16 & 255 : blended;
				} else {
					this1.image[this1.useVirtualPos ? (q - this1.virtualY) * this1.width + x - this1.virtualX | 0 : q * this1.width + x | 0] = pixelimage_Endian_isLittleEndian ? (c >> 24 & 255) << 24 | (c & 255) << 16 | (c >> 8 & 255) << 8 | c >> 16 & 255 : c;
				}
				if(p > maxX) {
					p = xx;
					++q;
				}
				if(q > maxY) {
					break;
				}
			}
		}
	}
};
function pixelimage_$samples_pixelimage_$canvas_Text_main() {
	new pixelimage_$samples_pixelimage_$canvas_Arrows();
}
var vision_ds_Line2D = function(start,end) {
	this.end = new vision_ds_Point2D(0,0);
	this.start = new vision_ds_Point2D(0,0);
	this.start.x = start.x;
	this.start.y = start.y;
	this.end.x = end.x;
	this.end.y = end.y;
	var x = end.x - start.x;
	var y = end.y - start.y;
	this.radians = Math.atan2(x,y);
	this.slope = Math.tan(this.radians);
	this.degrees = this.radians * 180 / Math.PI;
};
vision_ds_Line2D.__name__ = true;
vision_ds_Line2D.prototype = {
	toString: function() {
		return "\n (" + Std.string(this.start) + ".x, " + Std.string(this.start) + ".y) --> (" + Std.string(this.end) + ".x, " + Std.string(this.end) + ".y)";
	}
};
var vision_ds_Point2D = function(x,y) {
	if(y == null) {
		y = 0;
	}
	if(x == null) {
		x = 0;
	}
	this.x = x;
	this.y = y;
};
vision_ds_Point2D.__name__ = true;
vision_ds_Point2D.prototype = {
	toString: function() {
		return "(" + this.x + ", " + this.y + ")";
	}
};
var $_;
function $bind(o,m) { if( m == null ) return null; if( m.__id__ == null ) m.__id__ = $global.$haxeUID++; var f; if( o.hx__closures__ == null ) o.hx__closures__ = {}; else f = o.hx__closures__[m.__id__]; if( f == null ) { f = m.bind(o); o.hx__closures__[m.__id__] = f; } return f; }
$global.$haxeUID |= 0;
if(typeof(performance) != "undefined" ? typeof(performance.now) == "function" : false) {
	HxOverrides.now = performance.now.bind(performance);
}
String.__name__ = true;
Array.__name__ = true;
js_Boot.__toStr = ({ }).toString;
var pixelimage_Endian_isLittleEndian = (function($this) {
	var $r;
	var a8 = new Uint8Array(4);
	var a32 = new Uint32Array(a8.buffer)[0] = -3407855;
	$r = a8[0] != 255;
	return $r;
}(this));
pixelimage_$samples_pixelimage_$canvas_Text_main();
})(typeof window != "undefined" ? window : typeof global != "undefined" ? global : typeof self != "undefined" ? self : this);
